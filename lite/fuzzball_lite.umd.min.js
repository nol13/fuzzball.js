!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fuzzball=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={exports:{}},r={exports:{}};!function(t,r){(function(){var e,r,n,o,a,i,s,c,u,l,f,p,h,v,d;n=Math.floor,l=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},u=function(e,t,o,a,i){var s;if(null==o&&(o=0),null==i&&(i=r),o<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);o<a;)i(t,e[s=n((o+a)/2)])<0?a=s:o=s+1;return[].splice.apply(e,[o,o-o].concat(t)),t},i=function(e,t,n){return null==n&&(n=r),e.push(t),v(e,0,e.length-1,n)},a=function(e,t){var n,o;return null==t&&(t=r),n=e.pop(),e.length?(o=e[0],e[0]=n,d(e,0,t)):o=n,o},c=function(e,t,n){var o;return null==n&&(n=r),o=e[0],e[0]=t,d(e,0,n),o},s=function(e,t,n){var o;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(t=(o=[e[0],t])[0],e[0]=o[1],d(e,0,n)),t},o=function(e,t){var o,a,i,s,c,u;for(null==t&&(t=r),c=[],a=0,i=(s=function(){u=[];for(var t=0,r=n(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)u.push(t);return u}.apply(this).reverse()).length;a<i;a++)o=s[a],c.push(d(e,o,t));return c},h=function(e,t,n){var o;if(null==n&&(n=r),-1!==(o=e.indexOf(t)))return v(e,0,o,n),d(e,o,n)},f=function(e,t,n){var a,i,c,u,l;if(null==n&&(n=r),!(i=e.slice(0,t)).length)return i;for(o(i,n),c=0,u=(l=e.slice(t)).length;c<u;c++)a=l[c],s(i,a,n);return i.sort(n).reverse()},p=function(e,t,n){var i,s,c,f,p,h,v,d,y;if(null==n&&(n=r),10*t<=e.length){if(!(c=e.slice(0,t).sort(n)).length)return c;for(s=c[c.length-1],f=0,h=(v=e.slice(t)).length;f<h;f++)n(i=v[f],s)<0&&(u(c,i,0,null,n),c.pop(),s=c[c.length-1]);return c}for(o(e,n),y=[],p=0,d=l(t,e.length);0<=d?p<d:p>d;0<=d?++p:--p)y.push(a(e,n));return y},v=function(e,t,n,o){var a,i,s;for(null==o&&(o=r),a=e[n];n>t&&o(a,i=e[s=n-1>>1])<0;)e[n]=i,n=s;return e[n]=a},d=function(e,t,n){var o,a,i,s,c;for(null==n&&(n=r),a=e.length,c=t,i=e[t],o=2*t+1;o<a;)(s=o+1)<a&&!(n(e[o],e[s])<0)&&(o=s),e[t]=e[o],o=2*(t=o)+1;return e[t]=i,v(e,c,t,n)},e=function(){function Heap(e){this.cmp=null!=e?e:r,this.nodes=[]}return Heap.push=i,Heap.pop=a,Heap.replace=c,Heap.pushpop=s,Heap.heapify=o,Heap.updateItem=h,Heap.nlargest=f,Heap.nsmallest=p,Heap.prototype.push=function(e){return i(this.nodes,e,this.cmp)},Heap.prototype.pop=function(){return a(this.nodes,this.cmp)},Heap.prototype.peek=function(){return this.nodes[0]},Heap.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},Heap.prototype.replace=function(e){return c(this.nodes,e,this.cmp)},Heap.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},Heap.prototype.heapify=function(){return o(this.nodes,this.cmp)},Heap.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},Heap.prototype.clear=function(){return this.nodes=[]},Heap.prototype.empty=function(){return 0===this.nodes.length},Heap.prototype.size=function(){return this.nodes.length},Heap.prototype.clone=function(){var e;return(e=new Heap).nodes=this.nodes.slice(0),e},Heap.prototype.toArray=function(){return this.nodes.slice(0)},Heap.prototype.insert=Heap.prototype.push,Heap.prototype.top=Heap.prototype.peek,Heap.prototype.front=Heap.prototype.peek,Heap.prototype.has=Heap.prototype.contains,Heap.prototype.copy=Heap.prototype.clone,Heap}(),t.exports=e}).call(e)}(r);var n=r.exports;var o=function arrayMap$2(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},a=Array.isArray,i="object"==typeof e&&e&&e.Object===Object&&e,s=i,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")(),l=u.Symbol,f=l,p=Object.prototype,h=p.hasOwnProperty,v=p.toString,d=f?f.toStringTag:void 0;var y=function getRawTag$1(e){var t=h.call(e,d),r=e[d];try{e[d]=void 0;var n=!0}catch(e){}var o=v.call(e);return n&&(t?e[d]=r:delete e[d]),o},g=Object.prototype.toString;var _=y,b=function objectToString$1(e){return g.call(e)},m=l?l.toStringTag:void 0;var $=function baseGetTag$5(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":m&&m in Object(e)?_(e):b(e)};var j=function isObjectLike$5(e){return null!=e&&"object"==typeof e},w=$,k=j;var O=function isSymbol$4(e){return"symbol"==typeof e||k(e)&&"[object Symbol]"==w(e)},C=a,A=O,S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/;var x=function isKey$3(e,t){if(C(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!A(e))||(z.test(e)||!S.test(e)||null!=t&&e in Object(t))};var I=function isObject$3(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},E=$,P=I;var H,M=function isFunction$2(e){if(!P(e))return!1;var t=E(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},L=u["__core-js_shared__"],T=(H=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"";var R=function isMasked$1(e){return!!T&&T in e},q=Function.prototype.toString;var F=function toSource$2(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""},B=M,D=R,W=I,N=F,U=/^\[object .+?Constructor\]$/,G=Function.prototype,K=Object.prototype,Q=G.toString,V=K.hasOwnProperty,Z=RegExp("^"+Q.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var J=function baseIsNative$1(e){return!(!W(e)||D(e))&&(B(e)?Z:U).test(N(e))},X=function getValue$1(e,t){return null==e?void 0:e[t]};var Y=function getNative$6(e,t){var r=X(e,t);return J(r)?r:void 0},ee=Y(Object,"create"),te=ee;var re=function hashClear$1(){this.__data__=te?te(null):{},this.size=0};var ne=function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},oe=ee,ae=Object.prototype.hasOwnProperty;var ie=function hashGet$1(e){var t=this.__data__;if(oe){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ae.call(t,e)?t[e]:void 0},se=ee,ce=Object.prototype.hasOwnProperty;var ue=ee;var le=re,fe=ne,pe=ie,he=function hashHas$1(e){var t=this.__data__;return se?void 0!==t[e]:ce.call(t,e)},ve=function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?"__lodash_hash_undefined__":t,this};function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=le,Hash$1.prototype.delete=fe,Hash$1.prototype.get=pe,Hash$1.prototype.has=he,Hash$1.prototype.set=ve;var de=Hash$1;var ye=function listCacheClear$1(){this.__data__=[],this.size=0};var ge=function eq$2(e,t){return e===t||e!=e&&t!=t},_e=ge;var be=function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(_e(e[r][0],t))return r;return-1},me=be,$e=Array.prototype.splice;var je=be;var we=be;var ke=be;var Oe=ye,Ce=function listCacheDelete$1(e){var t=this.__data__,r=me(t,e);return!(r<0)&&(r==t.length-1?t.pop():$e.call(t,r,1),--this.size,!0)},Ae=function listCacheGet$1(e){var t=this.__data__,r=je(t,e);return r<0?void 0:t[r][1]},Se=function listCacheHas$1(e){return we(this.__data__,e)>-1},ze=function listCacheSet$1(e,t){var r=this.__data__,n=ke(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ListCache$4(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$4.prototype.clear=Oe,ListCache$4.prototype.delete=Ce,ListCache$4.prototype.get=Ae,ListCache$4.prototype.has=Se,ListCache$4.prototype.set=ze;var xe=ListCache$4,Ie=Y(u,"Map"),Ee=de,Pe=xe,He=Ie;var Me=function isKeyable$1(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Le=function getMapData$4(e,t){var r=e.__data__;return Me(t)?r["string"==typeof t?"string":"hash"]:r.map},Te=Le;var Re=Le;var qe=Le;var Fe=Le;var Be=function mapCacheClear$1(){this.size=0,this.__data__={hash:new Ee,map:new(He||Pe),string:new Ee}},De=function mapCacheDelete$1(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},We=function mapCacheGet$1(e){return Re(this,e).get(e)},Ne=function mapCacheHas$1(e){return qe(this,e).has(e)},Ue=function mapCacheSet$1(e,t){var r=Fe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function MapCache$3(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$3.prototype.clear=Be,MapCache$3.prototype.delete=De,MapCache$3.prototype.get=We,MapCache$3.prototype.has=Ne,MapCache$3.prototype.set=Ue;var Ge=MapCache$3,Ke=Ge;function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var memoized=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=memoized.cache;if(o.has(n))return o.get(n);var a=e.apply(this,r);return memoized.cache=o.set(n,a)||o,a};return memoized.cache=new(memoize$1.Cache||Ke),memoized}memoize$1.Cache=Ke;var Qe=memoize$1;var Ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,Je=function memoizeCapped$1(e){var t=Qe(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ve,(function(e,r,n,o){t.push(n?o.replace(Ze,"$1"):r||e)})),t})),Xe=o,Ye=a,et=O,tt=l?l.prototype:void 0,rt=tt?tt.toString:void 0;var nt=function baseToString$1(e){if("string"==typeof e)return e;if(Ye(e))return Xe(e,baseToString$1)+"";if(et(e))return rt?rt.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},ot=nt;var at=a,it=x,st=Je,ct=function toString$1(e){return null==e?"":ot(e)};var ut=function castPath$2(e,t){return at(e)?e:it(e,t)?[e]:st(ct(e))},lt=O;var ft=function toKey$4(e){if("string"==typeof e||lt(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},pt=ut,ht=ft;var vt=function baseGet$3(e,t){for(var r=0,n=(t=pt(t,e)).length;null!=e&&r<n;)e=e[ht(t[r++])];return r&&r==n?e:void 0},dt=xe;var yt=xe,gt=Ie,_t=Ge;var bt=xe,mt=function stackClear$1(){this.__data__=new dt,this.size=0},$t=function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},jt=function stackGet$1(e){return this.__data__.get(e)},wt=function stackHas$1(e){return this.__data__.has(e)},kt=function stackSet$1(e,t){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!gt||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _t(n)}return r.set(e,t),this.size=r.size,this};function Stack$2(e){var t=this.__data__=new bt(e);this.size=t.size}Stack$2.prototype.clear=mt,Stack$2.prototype.delete=$t,Stack$2.prototype.get=jt,Stack$2.prototype.has=wt,Stack$2.prototype.set=kt;var Ot=Stack$2;var Ct=Ge,At=function setCacheAdd$1(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},St=function setCacheHas$1(e){return this.__data__.has(e)};function SetCache$1(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ct;++t<r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=At,SetCache$1.prototype.has=St;var zt=SetCache$1,xt=function arraySome$1(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},It=function cacheHas$1(e,t){return e.has(t)};var Et=function equalArrays$2(e,t,r,n,o,a){var i=1&r,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var f=-1,p=!0,h=2&r?new zt:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var v=e[f],d=t[f];if(n)var y=i?n(d,v,f,t,e,a):n(v,d,f,e,t,a);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!xt(t,(function(e,t){if(!It(h,t)&&(v===e||o(v,e,r,n,a)))return h.push(t)}))){p=!1;break}}else if(v!==d&&!o(v,d,r,n,a)){p=!1;break}}return a.delete(e),a.delete(t),p};var Pt=u.Uint8Array,Ht=ge,Mt=Et,Lt=function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Tt=function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Rt=l?l.prototype:void 0,qt=Rt?Rt.valueOf:void 0;var Ft=function equalByTag$1(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Pt(e),new Pt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ht(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Lt;case"[object Set]":var c=1&n;if(s||(s=Tt),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var l=Mt(s(e),s(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(qt)return qt.call(e)==qt.call(t)}return!1};var Bt=function arrayPush$1(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Dt=a;var Wt=function baseGetAllKeys$1(e,t,r){var n=t(e);return Dt(e)?n:Bt(n,r(e))};var Nt=function arrayFilter$1(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a},Ut=function stubArray$1(){return[]},Gt=Object.prototype.propertyIsEnumerable,Kt=Object.getOwnPropertySymbols,Qt=Kt?function(e){return null==e?[]:(e=Object(e),Nt(Kt(e),(function(t){return Gt.call(e,t)})))}:Ut;var Vt=function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Zt=$,Jt=j;var Xt=function baseIsArguments$1(e){return Jt(e)&&"[object Arguments]"==Zt(e)},Yt=j,er=Object.prototype,tr=er.hasOwnProperty,rr=er.propertyIsEnumerable,nr=Xt(function(){return arguments}())?Xt:function(e){return Yt(e)&&tr.call(e,"callee")&&!rr.call(e,"callee")},or=nr,ar={exports:{}};var ir=function stubFalse(){return!1};!function(e,t){var r=u,n=ir,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,s=(i?i.isBuffer:void 0)||n;e.exports=s}(ar,ar.exports);var sr=/^(?:0|[1-9]\d*)$/;var cr=function isIndex$2(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&sr.test(e))&&e>-1&&e%1==0&&e<t};var ur=function isLength$3(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},lr=$,fr=ur,pr=j,hr={};hr["[object Float32Array]"]=hr["[object Float64Array]"]=hr["[object Int8Array]"]=hr["[object Int16Array]"]=hr["[object Int32Array]"]=hr["[object Uint8Array]"]=hr["[object Uint8ClampedArray]"]=hr["[object Uint16Array]"]=hr["[object Uint32Array]"]=!0,hr["[object Arguments]"]=hr["[object Array]"]=hr["[object ArrayBuffer]"]=hr["[object Boolean]"]=hr["[object DataView]"]=hr["[object Date]"]=hr["[object Error]"]=hr["[object Function]"]=hr["[object Map]"]=hr["[object Number]"]=hr["[object Object]"]=hr["[object RegExp]"]=hr["[object Set]"]=hr["[object String]"]=hr["[object WeakMap]"]=!1;var vr=function baseIsTypedArray$1(e){return pr(e)&&fr(e.length)&&!!hr[lr(e)]};var dr=function baseUnary$2(e){return function(t){return e(t)}},yr={exports:{}};!function(e,t){var r=i,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}(yr,yr.exports);var gr=vr,_r=dr,br=yr.exports,mr=br&&br.isTypedArray,$r=mr?_r(mr):gr,jr=Vt,wr=or,kr=a,Or=ar.exports,Cr=cr,Ar=$r,Sr=Object.prototype.hasOwnProperty;var zr=function arrayLikeKeys$1(e,t){var r=kr(e),n=!r&&wr(e),o=!r&&!n&&Or(e),a=!r&&!n&&!o&&Ar(e),i=r||n||o||a,s=i?jr(e.length,String):[],c=s.length;for(var u in e)!t&&!Sr.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Cr(u,c))||s.push(u);return s},xr=Object.prototype;var Ir=function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xr)};var Er=function overArg$1(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Pr=Ir,Hr=Er,Mr=Object.prototype.hasOwnProperty;var Lr=M,Tr=ur;var Rr=function isArrayLike$3(e){return null!=e&&Tr(e.length)&&!Lr(e)},qr=zr,Fr=function baseKeys$1(e){if(!Pr(e))return Hr(e);var t=[];for(var r in Object(e))Mr.call(e,r)&&"constructor"!=r&&t.push(r);return t},Br=Rr;var Dr=function keys$3(e){return Br(e)?qr(e):Fr(e)},Wr=Wt,Nr=Qt,Ur=Dr;var Gr=function getAllKeys$1(e){return Wr(e,Ur,Nr)},Kr=Object.prototype.hasOwnProperty;var Qr=function equalObjects$1(e,t,r,n,o,a){var i=1&r,s=Gr(e),c=s.length;if(c!=Gr(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:Kr.call(t,l)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var v=i;++u<c;){var d=e[l=s[u]],y=t[l];if(n)var g=i?n(y,d,l,t,e,a):n(d,y,l,e,t,a);if(!(void 0===g?d===y||o(d,y,r,n,a):g)){h=!1;break}v||(v="constructor"==l)}if(h&&!v){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Vr=Y(u,"DataView"),Zr=Ie,Jr=Y(u,"Promise"),Xr=Y(u,"Set"),Yr=Y(u,"WeakMap"),en=$,tn=F,rn="[object Map]",nn="[object Promise]",on="[object Set]",an="[object WeakMap]",sn="[object DataView]",cn=tn(Vr),un=tn(Zr),ln=tn(Jr),fn=tn(Xr),pn=tn(Yr),hn=en;(Vr&&hn(new Vr(new ArrayBuffer(1)))!=sn||Zr&&hn(new Zr)!=rn||Jr&&hn(Jr.resolve())!=nn||Xr&&hn(new Xr)!=on||Yr&&hn(new Yr)!=an)&&(hn=function(e){var t=en(e),r="[object Object]"==t?e.constructor:void 0,n=r?tn(r):"";if(n)switch(n){case cn:return sn;case un:return rn;case ln:return nn;case fn:return on;case pn:return an}return t});var vn=Ot,dn=Et,yn=Ft,gn=Qr,_n=hn,bn=a,mn=ar.exports,$n=$r,jn="[object Arguments]",wn="[object Array]",kn="[object Object]",On=Object.prototype.hasOwnProperty;var Cn=function baseIsEqualDeep$1(e,t,r,n,o,a){var i=bn(e),s=bn(t),c=i?wn:_n(e),u=s?wn:_n(t),l=(c=c==jn?kn:c)==kn,f=(u=u==jn?kn:u)==kn,p=c==u;if(p&&mn(e)){if(!mn(t))return!1;i=!0,l=!1}if(p&&!l)return a||(a=new vn),i||$n(e)?dn(e,t,r,n,o,a):yn(e,t,c,r,n,o,a);if(!(1&r)){var h=l&&On.call(e,"__wrapped__"),v=f&&On.call(t,"__wrapped__");if(h||v){var d=h?e.value():e,y=v?t.value():t;return a||(a=new vn),o(d,y,r,n,a)}}return!!p&&(a||(a=new vn),gn(e,t,r,n,o,a))},An=j;var Sn=function baseIsEqual$2(e,t,r,n,o){return e===t||(null==e||null==t||!An(e)&&!An(t)?e!=e&&t!=t:Cn(e,t,r,n,baseIsEqual$2,o))},zn=Ot,xn=Sn;var In=I;var En=function isStrictComparable$2(e){return e==e&&!In(e)},Pn=En,Hn=Dr;var Mn=function matchesStrictComparable$2(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},Ln=function baseIsMatch$1(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var s=r[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var c=(s=r[o])[0],u=e[c],l=s[1];if(i&&s[2]){if(void 0===u&&!(c in e))return!1}else{var f=new zn;if(n)var p=n(u,l,c,e,t,f);if(!(void 0===p?xn(l,u,3,n,f):p))return!1}}return!0},Tn=function getMatchData$1(e){for(var t=Hn(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Pn(o)]}return t},Rn=Mn;var qn=vt;var Fn=ut,Bn=or,Dn=a,Wn=cr,Nn=ur,Un=ft;var Gn=function baseHasIn$1(e,t){return null!=e&&t in Object(e)},Kn=function hasPath$1(e,t,r){for(var n=-1,o=(t=Fn(t,e)).length,a=!1;++n<o;){var i=Un(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&Nn(o)&&Wn(i,o)&&(Dn(e)||Bn(e))};var Qn=Sn,Vn=function get$1(e,t,r){var n=null==e?void 0:qn(e,t);return void 0===n?r:n},Zn=function hasIn$1(e,t){return null!=e&&Kn(e,t,Gn)},Jn=x,Xn=En,Yn=Mn,eo=ft;var to=function identity$2(e){return e};var ro=vt;var no=function baseProperty$1(e){return function(t){return null==t?void 0:t[e]}},oo=function basePropertyDeep$1(e){return function(t){return ro(t,e)}},ao=x,io=ft;var so=function baseMatches$1(e){var t=Tn(e);return 1==t.length&&t[0][2]?Rn(t[0][0],t[0][1]):function(r){return r===e||Ln(r,e,t)}},co=function baseMatchesProperty$1(e,t){return Jn(e)&&Xn(t)?Yn(eo(e),t):function(r){var n=Vn(r,e);return void 0===n&&n===t?Zn(r,e):Qn(t,n,3)}},uo=to,lo=a,fo=function property$1(e){return ao(e)?no(io(e)):oo(e)};var po=function baseIteratee$1(e){return"function"==typeof e?e:null==e?uo:"object"==typeof e?lo(e)?co(e[0],e[1]):so(e):fo(e)};var ho=function createBaseFor$1(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++o];if(!1===r(a[c],c,a))break}return t}}(),vo=Dr;var yo=Rr;var go=function createBaseEach$1(e,t){return function(r,n){if(null==r)return r;if(!yo(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}((function baseForOwn$1(e,t){return e&&ho(e,t,vo)})),_o=Rr;var bo=O;var mo=function compareAscending$1(e,t){if(e!==t){var r=void 0!==e,n=null===e,o=e==e,a=bo(e),i=void 0!==t,s=null===t,c=t==t,u=bo(t);if(!s&&!u&&!a&&e>t||a&&i&&c&&!s&&!u||n&&i&&c||!r&&c||!o)return 1;if(!n&&!a&&!u&&e<t||u&&r&&o&&!n&&!a||s&&r&&o||!i&&o||!c)return-1}return 0};var $o=o,jo=vt,wo=po,ko=function baseMap$1(e,t){var r=-1,n=_o(e)?Array(e.length):[];return go(e,(function(e,o,a){n[++r]=t(e,o,a)})),n},Oo=function baseSortBy$1(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},Co=dr,Ao=function compareMultiple$1(e,t,r){for(var n=-1,o=e.criteria,a=t.criteria,i=o.length,s=r.length;++n<i;){var c=mo(o[n],a[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index},So=to,zo=a;var xo=function baseOrderBy$1(e,t,r){t=t.length?$o(t,(function(e){return zo(e)?function(t){return jo(t,1===e.length?e[0]:e)}:e})):[So];var n=-1;t=$o(t,Co(wo));var o=ko(e,(function(e,r,o){return{criteria:$o(t,(function(t){return t(e)})),index:++n,value:e}}));return Oo(o,(function(e,t){return Ao(e,t,r)}))},Io=a;const Eo=function orderBy$1(e,t,r,n){return null==e?[]:(Io(t)||(t=null==t?[]:[t]),Io(r=n?void 0:r)||(r=null==r?[]:[r]),xo(e,t,r))};var Po,Ho={_intersect:function _intersect(e,t){if(!e||!t||0===e.length||0===t.length)return[];if(e.length<100&&t.length<100)return e.filter((e=>t.includes(e)));const r=new Set(t);return e.filter((e=>r.has(e)))},_intersectWith:function _intersectWith(e,t,r){return e&&t&&0!==e.length&&0!==t.length?e.filter((e=>t.some((t=>r(e,t))))):[]},_difference:function _difference(e,t){if(!e)return[];if(!t||0===t.length)return e.slice();if(e.length<100&&t.length<100)return e.filter((e=>!t.includes(e)));const r=new Set(t);return e.filter((e=>!r.has(e)))},_differenceWith:function _differenceWith(e,t,r){return e?t&&0!==t.length?e.filter((e=>!t.some((t=>r(e,t))))):e.slice():[]},_uniq:function _uniq(e){return e&&0!==e.length?1===e.length?e.slice():[...new Set(e)]:[]},_uniqWith:function _uniqWith(e,t){return e&&0!==e.length?1===e.length?e.slice():e.filter(((e,r,n)=>r===n.findIndex((r=>t(e,r))))):[]},_partialRight:function _partialRight(e){const t=Array.prototype.slice.call(arguments,1);return function(){const r=Array.prototype.slice.call(arguments);return e.apply(this,r.concat(t))}},_forEach:function _forEach(e,t){if(e)if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r],r);else{const r=Object.keys(e);for(let n=0;n<r.length;n++)t(e[r[n]],r[n])}},_keys:function _keys(e){return Object.keys(e)},_isArray:function _isArray(e){return Array.isArray(e)},_orderBy:function _orderBy(e,t,r){return Eo(e,t,r)}};try{Po="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var Mo,Lo=function leven(e,t,r){var n=[],o=[],a=r&&Po&&r.useCollator,i=1;if(r&&r.subcost&&"number"==typeof r.subcost&&(i=r.subcost),e===t)return 0;var s,c,u,l,f=Array.from(e),p=Array.from(t),h=f.length,v=p.length;if(0===h)return v;if(0===v)return h;for(var d=0,y=0;d<h;)o[d]=f[d].codePointAt(0),n[d]=++d;if(a)for(;y<v;)for(s=p[y].codePointAt(0),u=y++,c=y,d=0;d<h;d++)l=0===Po.compare(String.fromCodePoint(s),String.fromCodePoint(o[d]))?u:u+i,u=n[d],c=n[d]=u>c?l>c?c+1:l:l>u?u+1:l;else for(;y<v;)for(s=p[y].codePointAt(0),u=y++,c=y,d=0;d<h;d++)l=s===o[d]?u:u+i,u=n[d],c=n[d]=u>c?l>c?c+1:l:l>u?u+1:l;return c};try{Mo="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var To,Ro=function leven(e,t,r,n){var o=[],a=[],i=r&&Mo&&r.useCollator,s=1;if(r&&r.subcost&&"number"==typeof r.subcost&&(s=r.subcost),e===t)return 0;var c=e.length,u=t.length;if(0===c)return u;if(0===u)return c;if(r&&r.wildcards&&"string"==typeof r.wildcards&&r.wildcards.length>0){var l,f,p,h,v,d;if(!1===r.full_process&&!0!==r.processed){f=(l=r.wildcards[0]).charCodeAt(0);var y="["+function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(r.wildcards)+"]";if((e=e.replace(new RegExp(y,"g"),l))===(t=t.replace(new RegExp(y,"g"),l)))return 0}else f=(l=r.wildcards[0].toLowerCase()).charCodeAt(0);for(var g=0,_=0;g<c;)a[g]=e.charCodeAt(g),o[g]=++g;if(i)for(;_<u;)for(p=t.charCodeAt(_),v=_++,h=_,g=0;g<c;g++)d=0===Mo.compare(String.fromCharCode(p),String.fromCharCode(a[g]))||p===f||a[g]===f?v:v+s,v=o[g],h=o[g]=v>h?d>h?h+1:d:d>v?v+1:d;else for(;_<u;)for(p=t.charCodeAt(_),v=_++,h=_,g=0;g<c;g++)d=p===a[g]||p===f||a[g]===f?v:v+s,v=o[g],h=o[g]=v>h?d>h?h+1:d:d>v?v+1:d;return h}return n(e,t,r)};try{To="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var qo=function leven(e,t,r){var n=[],o=[],a=r&&To&&r.useCollator,i=1;if(r&&r.subcost&&"number"==typeof r.subcost&&(i=r.subcost),e===t)return 0;var s,c,u,l,f=e.length,p=t.length;if(0===f)return p;if(0===p)return f;for(var h=0,v=0;h<f;)o[h]=e.charCodeAt(h),n[h]=++h;if(a)for(;v<p;)for(s=t.charCodeAt(v),u=v++,c=v,h=0;h<f;h++)l=0===To.compare(String.fromCharCode(s),String.fromCharCode(o[h]))?u:u+i,u=n[h],c=n[h]=u>c?l>c?c+1:l:l>u?u+1:l;else for(;v<p;)for(s=t.charCodeAt(v),u=v++,c=v,h=0;h<f;h++)l=s===o[h]?u:u+i,u=n[h],c=n[h]=u>c?l>c?c+1:l:l>u?u+1:l;return c};!function(e,t){if(!e.setImmediate){var r,n=1,o={},a=!1,i=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){r=function(e){process.nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():i&&"onreadystatechange"in i.createElement("script")?function installReadyStateChangeImplementation(){var e=i.documentElement;r=function(t){var r=i.createElement("script");r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",onGlobalMessage=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),r=function(r){e.postMessage(t+r,"*")}}(),s.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var i={callback:e,args:t};return o[n]=i,r(n),n++},s.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{!function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{clearImmediate(e),a=!1}}}}}("undefined"==typeof self?e:self);var Fo={exports:{}};return function(e){e.exports=function(t,r,n,o){return(e={}).dedupe=function dedupe(e,a){var i,s=t(a);if(!r(e)&&"object"!=typeof e)throw new Error("contains_dupes must be an array or object");if(0===Object.keys(e).length)return void 0!==typeof console&&console.warn("contains_dupes is empty"),[];s.limit&&(void 0!==typeof console&&console.warn("options.limit will be ignored in dedupe"),s.limit=0),s.cutoff&&"number"==typeof s.cutoff||(void 0!==typeof console&&console.warn("Using default cutoff of 70"),s.cutoff=70),s.scorer||(s.scorer=n,void 0!==typeof console&&console.log("Using default scorer 'ratio' for dedupe")),i=s.processor&&"function"==typeof s.processor?s.processor:function(e){return e};var c={};for(var u in e){var l=i(e[u]);if("string"!=typeof l&&l instanceof String==!1)throw new Error("Each processed item in dedupe must be a string.");var f=o(l,e,s);s.returnObjects?(1===f.length||(f=f.sort((function(e,t){var r=i(e.choice),n=i(t.choice),o=r.length,a=n.length;return o===a?r<n?-1:1:a-o}))),s.keepmap?c[i(f[0].choice)]={item:f[0].choice,key:f[0].key,matches:f}:c[i(f[0].choice)]={item:f[0].choice,key:f[0].key}):(1===f.length||(f=f.sort((function(e,t){var r=i(e[0]),n=i(t[0]),o=r.length,a=n.length;return o===a?r<n?-1:1:a-o}))),s.keepmap?c[i(f[0][0])]=[f[0][0],f[0][2],f]:c[i(f[0][0])]=[f[0][0],f[0][2]])}var p=[];for(var h in c)p.push(c[h]);return p},e}}(Fo),function(){var e=n,r=Ho._intersect,o=Ho._difference,a=Lo,i=Ro,s=qo,c=function(e,t,r){var n={},o=Ro,a=qo;function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function validate(e){return("string"==typeof e||e instanceof String)&&e.length>0}n.validate=validate,n.process_and_sort=function process_and_sort(e){return validate(e)?e.match(/\S+/g).sort().join(" ").trim():""},n.tokenize=function unique_tokens(n,i){if(i&&i.wildcards&&t&&r){var s=r(o,i,a);return t(n.match(/\S+/g),(function(e,t){return 0===s(e,t)}))}return e(n.match(/\S+/g))};const i=/[^\p{L}\p{N}]/gu;return n.full_process=function full_process(e,t){if(!(e instanceof String)&&"string"!=typeof e)return"";var r;if(t&&"object"==typeof t&&t.wildcards&&"string"==typeof t.wildcards&&t.wildcards.length>0){var n=t.wildcards.toLowerCase();if(e=e.toLowerCase(),t.force_ascii){var o="[^\0 -|"+escapeRegExp(n)+"]";e=e.replace(new RegExp(o,"g"),"");var a="["+escapeRegExp(n)+"]",s=n[0];e=e.replace(new RegExp(a,"g"),s);var c="[^A-Za-z0-9"+escapeRegExp(n)+"]";r=(e=(e=e.replace(new RegExp(c,"g")," ")).replace(/_/g," ")).trim()}else{var u="[^\\p{L}\\p{N}|"+escapeRegExp(n)+"]";e=e.replace(new RegExp(u,"gu")," "),a="["+escapeRegExp(n)+"]",s=n[0],r=(e=e.replace(new RegExp(a,"g"),s)).trim()}}else t&&(t.force_ascii||!0===t)&&(r=(e=e.replace(/[^\x00-\x7F]/g,"")).replace(/\W|_/g," ").toLowerCase().trim()),r=e.replace(i," ").toLowerCase().trim();return t&&t.collapseWhitespace&&(r=r.replace(/\s+/g," ")),r},n.clone_and_set_option_defaults=function(e){if(e&&e.isAClone)return e;var t={isAClone:!0};if(e){var r,n=Object.keys(e);for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}return!1!==t.full_process&&(t.full_process=!0),!0!==t.force_ascii&&(t.force_ascii=!1),!1!==t.normalize&&!0===t.astral&&(t.normalize=!0),!1!==t.collapseWhitespace&&(t.collapseWhitespace=!0),t},n.isCustomFunc=function(e){return"function"!=typeof e||"token_set_ratio"!==e.name&&"partial_token_set_ratio"!==e.name&&"token_sort_ratio"!==e.name&&"partial_token_sort_ratio"!==e.name&&"QRatio"!==e.name&&"WRatio"!==e.name&&"distance"!==e.name&&"partial_ratio"!==e.name},n}(Ho._uniq),u=c.validate,l=c.process_and_sort,f=c.tokenize,p=c.full_process,h=c.clone_and_set_option_defaults,v=c.isCustomFunc;void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var d=Fo.exports(h,Array.isArray,QRatio,extract).dedupe;function QRatio(e,t,r){var n=h(r);return e=n.normalize?e.normalize():e,t=n.normalize?t.normalize():t,e=n.full_process?p(e,n):e,t=n.full_process?p(t,n):t,u(e)&&u(t)?_ratio(e,t,n):0}function extract(t,r,n){var o,a=h(n),i=!1;if(r&&r.length&&Array.isArray(r))o=r.length,i=!0;else{if(!(r instanceof Object))throw new Error("Invalid choices");o=Object.keys(r).length}if(!r||0===o)return void 0!==typeof console&&console.warn("No choices"),[];if(a.processor&&"function"!=typeof a.processor)throw new Error("Invalid Processor");if(a.processor||(a.processor=function(e){return e}),a.scorer&&"function"!=typeof a.scorer)throw new Error("Invalid Scorer");a.scorer||(a.scorer=QRatio);var s=v(a.scorer);a.cutoff&&"number"==typeof a.cutoff||(a.cutoff=-1);var pre_processor=function(e,t){return e};a.full_process&&(pre_processor=p,s||(a.processed=!0));var c=!1;s||(a.astral&&a.normalize&&(a.normalize=!1,String.prototype.normalize?(c=!0,t=t.normalize()):void 0!==typeof console&&console.warn("Normalization not supported in your environment")),t=pre_processor(t,a),a.full_process=!1,0===t.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var u,d,y,g,_,b=[],m=!1,$=!1,j=!1;if("token_sort_ratio"===a.scorer.name||"partial_token_sort_ratio"===a.scorer.name){var w=l(t);$=!0}else if("token_set_ratio"===a.scorer.name||"partial_token_set_ratio"===a.scorer.name){var k=f(t);j=!0}for(var O in a.returnObjects?(g=function(e,t){return e.score-t.score},_=function(e,t){return t.score-e.score}):(g=function(e,t){return e[1]-t[1]},_=function(e,t){return t[1]-e[1]}),r)(i||r.hasOwnProperty(O))&&(a.tokens=void 0,a.proc_sorted=!1,$?(a.proc_sorted=!0,r[O]&&r[O].proc_sorted?d=r[O].proc_sorted:(d=pre_processor(c?a.processor(r[O]).normalize():a.processor(r[O]),a),d=l(d)),y=a.scorer(w,d,a)):j?(d="x",r[O]&&r[O].tokens?(a.tokens=[k,r[O].tokens],a.trySimple&&(d=pre_processor(a.processor(r[O]),a))):(d=pre_processor(c?a.processor(r[O]).normalize():a.processor(r[O]),a),a.tokens=[k,f(d)]),y=a.scorer(t,d,a)):s?(d=a.processor(r[O]),y=a.scorer(t,d,a)):("string"==typeof(d=pre_processor(c?a.processor(r[O]).normalize():a.processor(r[O]),a))&&0!==d.length||(m=!0),y=a.scorer(t,d,a)),u=i?parseInt(O):O,y>a.cutoff&&(a.returnObjects?b.push({choice:r[O],score:y,key:u}):b.push([r[O],y,u])));return m&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),a.limit&&"number"==typeof a.limit&&a.limit>0&&a.limit<o&&!a.unsorted?b=e.nlargest(b,a.limit,g):a.unsorted||(b=b.sort(_)),b}function extractAsync(t,r,n,o){var a,i,s=h(n);"object"==typeof n.abortController&&(a=n.abortController),"object"==typeof n.cancelToken&&(i=n.cancelToken);var c=256;"number"==typeof s.asyncLoopOffset&&(c=s.asyncLoopOffset<1?1:s.asyncLoopOffset);var u,d=!1;if(r&&r.length&&Array.isArray(r))u=r.length,d=!0;else{if(!(r instanceof Object))return void o(new Error("Invalid choices"));u=Object.keys(r).length}if(!r||0===u)return void 0!==typeof console&&console.warn("No choices"),void o(null,[]);if(s.processor&&"function"!=typeof s.processor)o(new Error("Invalid Processor"));else if(s.processor||(s.processor=function(e){return e}),s.scorer&&"function"!=typeof s.scorer)o(new Error("Invalid Scorer"));else{s.scorer||(s.scorer=QRatio);var y=v(s.scorer);s.cutoff&&"number"==typeof s.cutoff||(s.cutoff=-1);var pre_processor=function(e,t){return e};s.full_process&&(pre_processor=p,y||(s.processed=!0));var g=!1;y||(s.astral&&s.normalize&&(s.normalize=!1,String.prototype.normalize?(g=!0,t=t.normalize()):void 0!==typeof console&&console.warn("Normalization not supported in your environment")),t=pre_processor(t,s),s.full_process=!1,0===t.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var _,b,m,$,j,w=[],k=!1,O=!1,C=!1;if("token_sort_ratio"===s.scorer.name||"partial_token_sort_ratio"===s.scorer.name){var A=l(t);O=!0}else if("token_set_ratio"===s.scorer.name||"partial_token_set_ratio"===s.scorer.name){var S=f(t);C=!0}s.returnObjects?($=function(e,t){return e.score-t.score},j=function(e,t){return t.score-e.score}):($=function(e,t){return e[1]-t[1]},j=function(e,t){return t[1]-e[1]});var z=Object.keys(r);d?searchLoop(0):searchLoop(z[0],0)}function searchLoop(n,p){(d||r.hasOwnProperty(n))&&(s.tokens=void 0,s.proc_sorted=!1,O?(s.proc_sorted=!0,r[n].proc_sorted?b=r[n].proc_sorted:(b=pre_processor(g?s.processor(r[n]).normalize():s.processor(r[n]),s),b=l(b)),m=s.scorer(A,b,s)):C?(b="x",r[n].tokens?(s.tokens=[S,r[n].tokens],s.trySimple&&(b=pre_processor(s.processor(r[n]),s))):(b=pre_processor(g?s.processor(r[n]).normalize():s.processor(r[n]),s),s.tokens=[S,f(b)]),m=s.scorer(t,b,s)):y?(b=s.processor(r[n]),m=s.scorer(t,b,s)):("string"==typeof(b=pre_processor(g?s.processor(r[n]).normalize():s.processor(r[n]),s))&&0!==b.length||(k=!0),m=s.scorer(t,b,s)),_=d?parseInt(n):n,m>s.cutoff&&(s.returnObjects?w.push({choice:r[n],score:m,key:_}):w.push([r[n],m,_]))),a&&!0===a.signal.aborted?o(new Error("aborted")):i&&!0===i.canceled?o(new Error("canceled")):d&&n<r.length-1?n%c==0?setImmediate((function(){searchLoop(n+1)})):searchLoop(n+1):p<z.length-1?p%c==0?setImmediate((function(){searchLoop(z[p+1],p+1)})):searchLoop(z[p+1],p+1):(k&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),s.limit&&"number"==typeof s.limit&&s.limit>0&&s.limit<u&&!s.unsorted?w=e.nlargest(w,s.limit,$):s.unsorted||(w=w.sort(j)),o(null,w))}}function _ratio(e,t,r){return u(e)&&u(t)?(void 0===r.subcost&&(r.subcost=2),r.astral?(n=a(e,t,r),o=Array.from(e).length+Array.from(t).length):r.wildcards?(n=i(e,t,r,s),o=e.length+t.length):(n=s(e,t,r),o=e.length+t.length),Math.round((o-n)/o*100)):0;var n,o}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,i,s=[];for(a in o)e.call(o,a)&&s.push(a);if(t)for(i=0;i<n;i++)e.call(o,r[i])&&s.push(r[i]);return s}}());var y=void 0;"undefined"!=typeof Promise&&(y=function(e,t,r){return new Promise((function(n,o){extractAsync(e,t,r,(function(e,t){e?o(e):n(t)}))}))});var g={distance:function distance(e,t,r){var n=h(r);return e=n.normalize?e.normalize():e,t=n.normalize?t.normalize():t,e=n.full_process?p(e,n):e,t=n.full_process?p(t,n):t,void 0===n.subcost&&(n.subcost=1),n.astral?a(e,t,n):i(e,t,n,s)},ratio:QRatio,token_set_ratio:function token_set_ratio(e,t,n){var a=h(n);return e=a.normalize?e.normalize():e,t=a.normalize?t.normalize():t,e=a.full_process?p(e,a):e,t=a.full_process?p(t,a):t,u(e)&&u(t)?function _token_set(e,t,n){if(n.tokens)a=n.tokens[0],i=n.tokens[1];else var a=f(e),i=f(t);var s=r(a,i),c=o(a,i),u=o(i,a),l=s.sort().join(" "),p=c.sort().join(" "),h=u.sort().join(" "),v=l+" "+p,d=l+" "+h;l=l.trim(),v=v.trim(),d=d.trim();var y=_ratio,g=[y(l,v,n),y(l,d,n),y(v,d,n)];n.trySimple&&g.push(y(e,t,n));return Math.max.apply(null,g)}(e,t,a):0},token_sort_ratio:function token_sort_ratio(e,t,r){var n=h(r);return e=n.normalize?e.normalize():e,t=n.normalize?t.normalize():t,e=n.full_process?p(e,n):e,t=n.full_process?p(t,n):t,u(e)&&u(t)?(n.proc_sorted||(e=l(e),t=l(t)),_ratio(e,t,n)):0},full_process:p,extract:extract,extractAsync:extractAsync,extractAsPromised:y,process_and_sort:l,unique_tokens:f,dedupe:d};t.exports=g}(),t.exports}));

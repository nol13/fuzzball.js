!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).fuzzball=r()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r={exports:{}},t={exports:{}};!function(r,t){(function(){var e,t,n,o,a,i,s,c,u,l,p,f,d,h,g;n=Math.floor,l=Math.min,t=function(e,r){return e<r?-1:e>r?1:0},u=function(e,r,o,a,i){var s;if(null==o&&(o=0),null==i&&(i=t),o<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);o<a;)i(r,e[s=n((o+a)/2)])<0?a=s:o=s+1;return[].splice.apply(e,[o,o-o].concat(r)),r},i=function(e,r,n){return null==n&&(n=t),e.push(r),h(e,0,e.length-1,n)},a=function(e,r){var n,o;return null==r&&(r=t),n=e.pop(),e.length?(o=e[0],e[0]=n,g(e,0,r)):o=n,o},c=function(e,r,n){var o;return null==n&&(n=t),o=e[0],e[0]=r,g(e,0,n),o},s=function(e,r,n){var o;return null==n&&(n=t),e.length&&n(e[0],r)<0&&(r=(o=[e[0],r])[0],e[0]=o[1],g(e,0,n)),r},o=function(e,r){var o,a,i,s,c,u;for(null==r&&(r=t),c=[],a=0,i=(s=function(){u=[];for(var r=0,t=n(e.length/2);0<=t?r<t:r>t;0<=t?r++:r--)u.push(r);return u}.apply(this).reverse()).length;a<i;a++)o=s[a],c.push(g(e,o,r));return c},d=function(e,r,n){var o;if(null==n&&(n=t),-1!==(o=e.indexOf(r)))return h(e,0,o,n),g(e,o,n)},p=function(e,r,n){var a,i,c,u,l;if(null==n&&(n=t),!(i=e.slice(0,r)).length)return i;for(o(i,n),c=0,u=(l=e.slice(r)).length;c<u;c++)a=l[c],s(i,a,n);return i.sort(n).reverse()},f=function(e,r,n){var i,s,c,p,f,d,h,g,v;if(null==n&&(n=t),10*r<=e.length){if(!(c=e.slice(0,r).sort(n)).length)return c;for(s=c[c.length-1],p=0,d=(h=e.slice(r)).length;p<d;p++)n(i=h[p],s)<0&&(u(c,i,0,null,n),c.pop(),s=c[c.length-1]);return c}for(o(e,n),v=[],f=0,g=l(r,e.length);0<=g?f<g:f>g;0<=g?++f:--f)v.push(a(e,n));return v},h=function(e,r,n,o){var a,i,s;for(null==o&&(o=t),a=e[n];n>r&&o(a,i=e[s=n-1>>1])<0;)e[n]=i,n=s;return e[n]=a},g=function(e,r,n){var o,a,i,s,c;for(null==n&&(n=t),a=e.length,c=r,i=e[r],o=2*r+1;o<a;)(s=o+1)<a&&!(n(e[o],e[s])<0)&&(o=s),e[r]=e[o],o=2*(r=o)+1;return e[r]=i,h(e,c,r,n)},e=function(){function Heap(e){this.cmp=null!=e?e:t,this.nodes=[]}return Heap.push=i,Heap.pop=a,Heap.replace=c,Heap.pushpop=s,Heap.heapify=o,Heap.updateItem=d,Heap.nlargest=p,Heap.nsmallest=f,Heap.prototype.push=function(e){return i(this.nodes,e,this.cmp)},Heap.prototype.pop=function(){return a(this.nodes,this.cmp)},Heap.prototype.peek=function(){return this.nodes[0]},Heap.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},Heap.prototype.replace=function(e){return c(this.nodes,e,this.cmp)},Heap.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},Heap.prototype.heapify=function(){return o(this.nodes,this.cmp)},Heap.prototype.updateItem=function(e){return d(this.nodes,e,this.cmp)},Heap.prototype.clear=function(){return this.nodes=[]},Heap.prototype.empty=function(){return 0===this.nodes.length},Heap.prototype.size=function(){return this.nodes.length},Heap.prototype.clone=function(){var e;return(e=new Heap).nodes=this.nodes.slice(0),e},Heap.prototype.toArray=function(){return this.nodes.slice(0)},Heap.prototype.insert=Heap.prototype.push,Heap.prototype.top=Heap.prototype.peek,Heap.prototype.front=Heap.prototype.peek,Heap.prototype.has=Heap.prototype.contains,Heap.prototype.copy=Heap.prototype.clone,Heap}(),r.exports=e}).call(e)}(t);var n=t.exports;var o=function arrayMap$4(e,r){for(var t=-1,n=null==e?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o},a="object"==typeof e&&e&&e.Object===Object&&e,i=a,s="object"==typeof self&&self&&self.Object===Object&&self,c=i||s||Function("return this")(),u=c.Symbol,l=u,p=Object.prototype,f=p.hasOwnProperty,d=p.toString,h=l?l.toStringTag:void 0;var g=function getRawTag$1(e){var r=f.call(e,h),t=e[h];try{e[h]=void 0;var n=!0}catch(e){}var o=d.call(e);return n&&(r?e[h]=t:delete e[h]),o},v=Object.prototype.toString;var y=g,m=function objectToString$1(e){return v.call(e)},x=u?u.toStringTag:void 0;var b=function baseGetTag$5(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":x&&x in Object(e)?y(e):m(e)};var _=function isObject$2(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)},w=b,$=_;var E,C=function isFunction$2(e){if(!$(e))return!1;var r=w(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},j=c["__core-js_shared__"],k=(E=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";var S=function isMasked$1(e){return!!k&&k in e},A=Function.prototype.toString;var O=function toSource$2(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""},R=C,I=S,z=_,P=O,F=/^\[object .+?Constructor\]$/,N=Function.prototype,T=Object.prototype,H=N.toString,X=T.hasOwnProperty,L=RegExp("^"+H.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var M=function baseIsNative$1(e){return!(!z(e)||I(e))&&(R(e)?L:F).test(P(e))},U=function getValue$1(e,r){return null==e?void 0:e[r]};var D=function getNative$7(e,r){var t=U(e,r);return M(t)?t:void 0},B=D(Object,"create"),G=B;var q=function hashClear$1(){this.__data__=G?G(null):{},this.size=0};var Q=function hashDelete$1(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},W=B,Y=Object.prototype.hasOwnProperty;var Z=function hashGet$1(e){var r=this.__data__;if(W){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return Y.call(r,e)?r[e]:void 0},V=B,K=Object.prototype.hasOwnProperty;var J=B;var ee=q,re=Q,te=Z,ne=function hashHas$1(e){var r=this.__data__;return V?void 0!==r[e]:K.call(r,e)},oe=function hashSet$1(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=J&&void 0===r?"__lodash_hash_undefined__":r,this};function Hash$1(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Hash$1.prototype.clear=ee,Hash$1.prototype.delete=re,Hash$1.prototype.get=te,Hash$1.prototype.has=ne,Hash$1.prototype.set=oe;var ae=Hash$1;var ie=function listCacheClear$1(){this.__data__=[],this.size=0};var se=function eq$1(e,r){return e===r||e!=e&&r!=r};var ce=function assocIndexOf$4(e,r){for(var t=e.length;t--;)if(se(e[t][0],r))return t;return-1},ue=ce,le=Array.prototype.splice;var pe=ce;var fe=ce;var de=ce;var he=ie,ge=function listCacheDelete$1(e){var r=this.__data__,t=ue(r,e);return!(t<0)&&(t==r.length-1?r.pop():le.call(r,t,1),--this.size,!0)},ve=function listCacheGet$1(e){var r=this.__data__,t=pe(r,e);return t<0?void 0:r[t][1]},ye=function listCacheHas$1(e){return fe(this.__data__,e)>-1},me=function listCacheSet$1(e,r){var t=this.__data__,n=de(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this};function ListCache$1(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ListCache$1.prototype.clear=he,ListCache$1.prototype.delete=ge,ListCache$1.prototype.get=ve,ListCache$1.prototype.has=ye,ListCache$1.prototype.set=me;var xe=ListCache$1,be=D(c,"Map"),_e=ae,we=xe,$e=be;var Ee=function isKeyable$1(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e};var Ce=function getMapData$4(e,r){var t=e.__data__;return Ee(r)?t["string"==typeof r?"string":"hash"]:t.map},je=Ce;var ke=Ce;var Se=Ce;var Ae=Ce;var Oe=function mapCacheClear$1(){this.size=0,this.__data__={hash:new _e,map:new($e||we),string:new _e}},Re=function mapCacheDelete$1(e){var r=je(this,e).delete(e);return this.size-=r?1:0,r},Ie=function mapCacheGet$1(e){return ke(this,e).get(e)},ze=function mapCacheHas$1(e){return Se(this,e).has(e)},Pe=function mapCacheSet$1(e,r){var t=Ae(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this};function MapCache$1(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}MapCache$1.prototype.clear=Oe,MapCache$1.prototype.delete=Re,MapCache$1.prototype.get=Ie,MapCache$1.prototype.has=ze,MapCache$1.prototype.set=Pe;var Fe=MapCache$1,Ne=function setCacheAdd$1(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Te=function setCacheHas$1(e){return this.__data__.has(e)};function SetCache$3(e){var r=-1,t=null==e?0:e.length;for(this.__data__=new Fe;++r<t;)this.add(e[r])}SetCache$3.prototype.add=SetCache$3.prototype.push=Ne,SetCache$3.prototype.has=Te;var He=SetCache$3;var Xe=function baseFindIndex$1(e,r,t,n){for(var o=e.length,a=t+(n?1:-1);n?a--:++a<o;)if(r(e[a],a,e))return a;return-1},Le=function baseIsNaN$1(e){return e!=e},Me=function strictIndexOf$1(e,r,t){for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1};var Ue=function baseIndexOf$1(e,r,t){return r==r?Me(e,r,t):Xe(e,Le,t)};var De=function arrayIncludes$3(e,r){return!!(null==e?0:e.length)&&Ue(e,r,0)>-1};var Be=function arrayIncludesWith$3(e,r,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(r,e[n]))return!0;return!1};var Ge=function baseUnary$3(e){return function(r){return e(r)}};var qe=function cacheHas$3(e,r){return e.has(r)},Qe=He,We=De,Ye=Be,Ze=o,Ve=Ge,Ke=qe,Je=Math.min;var er=function baseIntersection$1(e,r,t){for(var n=t?Ye:We,o=e[0].length,a=e.length,i=a,s=Array(a),c=1/0,u=[];i--;){var l=e[i];i&&r&&(l=Ze(l,Ve(r))),c=Je(l.length,c),s[i]=!t&&(r||o>=120&&l.length>=120)?new Qe(i&&l):void 0}l=e[0];var p=-1,f=s[0];e:for(;++p<o&&u.length<c;){var d=l[p],h=r?r(d):d;if(d=t||0!==d?d:0,!(f?Ke(f,h):n(u,h,t))){for(i=a;--i;){var g=s[i];if(!(g?Ke(g,h):n(e[i],h,t)))continue e}f&&f.push(h),u.push(d)}}return u};var rr=function identity$2(e){return e};var tr=function apply$1(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)},nr=Math.max;var or=function overRest$1(e,r,t){return r=nr(void 0===r?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=nr(n.length-r,0),i=Array(a);++o<a;)i[o]=n[r+o];o=-1;for(var s=Array(r+1);++o<r;)s[o]=n[o];return s[r]=t(i),tr(e,this,s)}};var ar=function constant$1(e){return function(){return e}},ir=D,sr=function(){try{var e=ir(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),cr=ar,ur=sr,lr=ur?function(e,r){return ur(e,"toString",{configurable:!0,enumerable:!1,value:cr(r),writable:!0})}:rr,pr=Date.now;var fr=function shortOut$1(e){var r=0,t=0;return function(){var n=pr(),o=16-(n-t);if(t=n,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}},dr=fr(lr),hr=rr,gr=or,vr=dr;var yr=function baseRest$2(e,r){return vr(gr(e,r,hr),e+"")};var mr=function isLength$2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},xr=C,br=mr;var _r=function isArrayLike$3(e){return null!=e&&br(e.length)&&!xr(e)};var wr=function isObjectLike$5(e){return null!=e&&"object"==typeof e},$r=_r,Er=wr;var Cr=function isArrayLikeObject$2(e){return Er(e)&&$r(e)},jr=Cr;var kr=o,Sr=er,Ar=function castArrayLikeObject$1(e){return jr(e)?e:[]},Or=yr((function(e){var r=kr(e,Ar);return r.length&&r[0]===e[0]?Sr(r):[]})),Rr=He,Ir=De,zr=Be,Pr=o,Fr=Ge,Nr=qe;var Tr=function baseDifference$1(e,r,t,n){var o=-1,a=Ir,i=!0,s=e.length,c=[],u=r.length;if(!s)return c;t&&(r=Pr(r,Fr(t))),n?(a=zr,i=!1):r.length>=200&&(a=Nr,i=!1,r=new Rr(r));e:for(;++o<s;){var l=e[o],p=null==t?l:t(l);if(l=n||0!==l?l:0,i&&p==p){for(var f=u;f--;)if(r[f]===p)continue e;c.push(l)}else a(r,p,n)||c.push(l)}return c};var Hr=function arrayPush$1(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e},Xr=b,Lr=wr;var Mr=function baseIsArguments$1(e){return Lr(e)&&"[object Arguments]"==Xr(e)},Ur=wr,Dr=Object.prototype,Br=Dr.hasOwnProperty,Gr=Dr.propertyIsEnumerable,qr=Mr(function(){return arguments}())?Mr:function(e){return Ur(e)&&Br.call(e,"callee")&&!Gr.call(e,"callee")},Qr=qr,Wr=Array.isArray,Yr=Qr,Zr=Wr,Vr=u?u.isConcatSpreadable:void 0;var Kr=Hr,Jr=function isFlattenable$1(e){return Zr(e)||Yr(e)||!!(Vr&&e&&e[Vr])};var et=function baseFlatten$1(e,r,t,n,o){var a=-1,i=e.length;for(t||(t=Jr),o||(o=[]);++a<i;){var s=e[a];r>0&&t(s)?r>1?baseFlatten$1(s,r-1,t,n,o):Kr(o,s):n||(o[o.length]=s)}return o},rt=Tr,tt=et,nt=Cr,ot=yr((function(e,r){return nt(e)?rt(e,tt(r,1,nt,!0)):[]})),at=ot,it=D(c,"Set");var st=function setToArray$3(e){var r=-1,t=Array(e.size);return e.forEach((function(e){t[++r]=e})),t},ct=it,ut=function noop$1(){},lt=ct&&1/st(new ct([,-0]))[1]==1/0?function(e){return new ct(e)}:ut,pt=He,ft=De,dt=Be,ht=qe,gt=lt,vt=st;var yt=function baseUniq$1(e,r,t){var n=-1,o=ft,a=e.length,i=!0,s=[],c=s;if(t)i=!1,o=dt;else if(a>=200){var u=r?null:gt(e);if(u)return vt(u);i=!1,o=ht,c=new pt}else c=r?[]:s;e:for(;++n<a;){var l=e[n],p=r?r(l):l;if(l=t||0!==l?l:0,i&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;r&&c.push(p),s.push(l)}else o(c,p,t)||(c!==s&&c.push(p),s.push(l))}return s};var mt=function uniq(e){return e&&e.length?yt(e):[]};var xt=function copyArray$1(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r},bt=D(c,"DataView"),_t=be,wt=D(c,"Promise"),$t=it,Et=D(c,"WeakMap"),Ct=b,jt=O,kt="[object Map]",St="[object Promise]",At="[object Set]",Ot="[object WeakMap]",Rt="[object DataView]",It=jt(bt),zt=jt(_t),Pt=jt(wt),Ft=jt($t),Nt=jt(Et),Tt=Ct;(bt&&Tt(new bt(new ArrayBuffer(1)))!=Rt||_t&&Tt(new _t)!=kt||wt&&Tt(wt.resolve())!=St||$t&&Tt(new $t)!=At||Et&&Tt(new Et)!=Ot)&&(Tt=function(e){var r=Ct(e),t="[object Object]"==r?e.constructor:void 0,n=t?jt(t):"";if(n)switch(n){case It:return Rt;case zt:return kt;case Pt:return St;case Ft:return At;case Nt:return Ot}return r});var Ht=Tt,Xt=b,Lt=Wr,Mt=wr;var Ut=function isString$1(e){return"string"==typeof e||!Lt(e)&&Mt(e)&&"[object String]"==Xt(e)};var Dt=function iteratorToArray$1(e){for(var r,t=[];!(r=e.next()).done;)t.push(r.value);return t};var Bt=function mapToArray$1(e){var r=-1,t=Array(e.size);return e.forEach((function(e,n){t[++r]=[n,e]})),t};var Gt=function asciiToArray$1(e){return e.split("")},qt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Qt=function hasUnicode$1(e){return qt.test(e)},Wt="[\\ud800-\\udfff]",Yt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zt="\\ud83c[\\udffb-\\udfff]",Vt="[^\\ud800-\\udfff]",Kt="(?:\\ud83c[\\udde6-\\uddff]){2}",Jt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="(?:"+Yt+"|"+Zt+")"+"?",rn="[\\ufe0e\\ufe0f]?",tn=rn+en+("(?:\\u200d(?:"+[Vt,Kt,Jt].join("|")+")"+rn+en+")*"),nn="(?:"+[Vt+Yt+"?",Yt,Kt,Jt,Wt].join("|")+")",on=RegExp(Zt+"(?="+Zt+")|"+nn+tn,"g");var an=Gt,sn=Qt,cn=function unicodeToArray$1(e){return e.match(on)||[]};var un=function stringToArray$1(e){return sn(e)?cn(e):an(e)},ln=o;var pn=function baseValues$1(e,r){return ln(r,(function(r){return e[r]}))};var fn=function baseTimes$1(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n},dn={exports:{}};var hn=function stubFalse(){return!1};!function(e,r){var t=c,n=hn,o=r&&!r.nodeType&&r,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?t.Buffer:void 0,s=(i?i.isBuffer:void 0)||n;e.exports=s}(dn,dn.exports);var gn=/^(?:0|[1-9]\d*)$/;var vn=function isIndex$1(e,r){var t=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==t||"symbol"!=t&&gn.test(e))&&e>-1&&e%1==0&&e<r},yn=b,mn=mr,xn=wr,bn={};bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Arguments]"]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object Boolean]"]=bn["[object DataView]"]=bn["[object Date]"]=bn["[object Error]"]=bn["[object Function]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object WeakMap]"]=!1;var _n=function baseIsTypedArray$1(e){return xn(e)&&mn(e.length)&&!!bn[yn(e)]},wn={exports:{}};!function(e,r){var t=a,n=r&&!r.nodeType&&r,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&t.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}(wn,wn.exports);var $n=_n,En=Ge,Cn=wn.exports,jn=Cn&&Cn.isTypedArray,kn=jn?En(jn):$n,Sn=fn,An=Qr,On=Wr,Rn=dn.exports,In=vn,zn=kn,Pn=Object.prototype.hasOwnProperty;var Fn=function arrayLikeKeys$1(e,r){var t=On(e),n=!t&&An(e),o=!t&&!n&&Rn(e),a=!t&&!n&&!o&&zn(e),i=t||n||o||a,s=i?Sn(e.length,String):[],c=s.length;for(var u in e)!r&&!Pn.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||In(u,c))||s.push(u);return s},Nn=Object.prototype;var Tn=function isPrototype$1(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||Nn)};var Hn=function overArg$1(e,r){return function(t){return e(r(t))}}(Object.keys,Object),Xn=Tn,Ln=Hn,Mn=Object.prototype.hasOwnProperty;var Un=Fn,Dn=function baseKeys$1(e){if(!Xn(e))return Ln(e);var r=[];for(var t in Object(e))Mn.call(e,t)&&"constructor"!=t&&r.push(t);return r},Bn=_r;var Gn=pn,qn=function keys$1(e){return Bn(e)?Un(e):Dn(e)};var Qn=xt,Wn=Ht,Yn=_r,Zn=Ut,Vn=Dt,Kn=Bt,Jn=st,eo=un,ro=function values$1(e){return null==e?[]:Gn(e,qn(e))},to=u?u.iterator:void 0;var no,oo=function toArray(e){if(!e)return[];if(Yn(e))return Zn(e)?eo(e):Qn(e);if(to&&e[to])return Vn(e[to]());var r=Wn(e);return("[object Map]"==r?Kn:"[object Set]"==r?Jn:ro)(e)};
/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var e={},r=Object.defineProperty,t=r(e,e,e)&&r}catch(e){}return t}(),codePointAt=function(e){if(null==this)throw TypeError();var r=String(this),t=r.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||n>=t)){var o,a=r.charCodeAt(n);return a>=55296&&a<=56319&&t>n+1&&(o=r.charCodeAt(n+1))>=56320&&o<=57343?1024*(a-55296)+o-56320+65536:a}};e?e(String.prototype,"codePointAt",{value:codePointAt,configurable:!0,writable:!0}):String.prototype.codePointAt=codePointAt}()
/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */,String.fromCodePoint||function(){var e=function(){try{var e={},r=Object.defineProperty,t=r(e,e,e)&&r}catch(e){}return t}(),r=String.fromCharCode,t=Math.floor,fromCodePoint=function(e){var n,o,a=16384,i=[],s=-1,c=arguments.length;if(!c)return"";for(var u="";++s<c;){var l=Number(arguments[s]);if(!isFinite(l)||l<0||l>1114111||t(l)!=l)throw RangeError("Invalid code point: "+l);l<=65535?i.push(l):(n=55296+((l-=65536)>>10),o=l%1024+56320,i.push(n,o)),(s+1==c||i.length>a)&&(u+=r.apply(null,i),i.length=0)}return u};e?e(String,"fromCodePoint",{value:fromCodePoint,configurable:!0,writable:!0}):String.fromCodePoint=fromCodePoint}();try{no="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var ao,io=function leven(e,r,t,n){var o=[],a=[],i=t&&no&&t.useCollator,s=1;if(t&&t.subcost&&"number"==typeof t.subcost&&(s=t.subcost),e===r)return 0;var c,u,l,p,f=n(e),d=n(r),h=f.length,g=d.length;if(0===h)return g;if(0===g)return h;for(var v=0,y=0;v<h;)a[v]=f[v].codePointAt(0),o[v]=++v;if(i)for(;y<g;)for(c=d[y].codePointAt(0),l=y++,u=y,v=0;v<h;v++)p=0===no.compare(String.fromCodePoint(c),String.fromCodePoint(a[v]))?l:l+s,l=o[v],u=o[v]=l>u?p>u?u+1:p:p>l?l+1:p;else for(;y<g;)for(c=d[y].codePointAt(0),l=y++,u=y,v=0;v<h;v++)p=c===a[v]?l:l+s,l=o[v],u=o[v]=l>u?p>u?u+1:p:p>l?l+1:p;return u};try{ao="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var so,co=function leven(e,r,t,n){var o=[],a=[],i=t&&ao&&t.useCollator,s=1;if(t&&t.subcost&&"number"==typeof t.subcost&&(s=t.subcost),e===r)return 0;var c=e.length,u=r.length;if(0===c)return u;if(0===u)return c;if(t&&t.wildcards&&"string"==typeof t.wildcards&&t.wildcards.length>0){var l,p,f,d,h,g;if(!1===t.full_process&&!0!==t.processed){p=(l=t.wildcards[0]).charCodeAt(0);var v="["+function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t.wildcards)+"]";if((e=e.replace(new RegExp(v,"g"),l))===(r=r.replace(new RegExp(v,"g"),l)))return 0}else p=(l=t.wildcards[0].toLowerCase()).charCodeAt(0);for(var y=0,m=0;y<c;)a[y]=e.charCodeAt(y),o[y]=++y;if(i)for(;m<u;)for(f=r.charCodeAt(m),h=m++,d=m,y=0;y<c;y++)g=0===ao.compare(String.fromCharCode(f),String.fromCharCode(a[y]))||f===p||a[y]===p?h:h+s,h=o[y],d=o[y]=h>d?g>d?d+1:g:g>h?h+1:g;else for(;m<u;)for(f=r.charCodeAt(m),h=m++,d=m,y=0;y<c;y++)g=f===a[y]||f===p||a[y]===p?h:h+s,h=o[y],d=o[y]=h>d?g>d?d+1:g:g>h?h+1:g;return d}return n(e,r,t)};try{so="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var uo=function leven(e,r,t){var n=[],o=[],a=t&&so&&t.useCollator,i=1;if(t&&t.subcost&&"number"==typeof t.subcost&&(i=t.subcost),e===r)return 0;var s,c,u,l,p=e.length,f=r.length;if(0===p)return f;if(0===f)return p;for(var d=0,h=0;d<p;)o[d]=e.charCodeAt(d),n[d]=++d;if(a)for(;h<f;)for(s=r.charCodeAt(h),u=h++,c=h,d=0;d<p;d++)l=0===so.compare(String.fromCharCode(s),String.fromCharCode(o[d]))?u:u+i,u=n[d],c=n[d]=u>c?l>c?c+1:l:l>u?u+1:l;else for(;h<f;)for(s=r.charCodeAt(h),u=h++,c=h,d=0;d<p;d++)l=s===o[d]?u:u+i,u=n[d],c=n[d]=u>c?l>c?c+1:l:l>u?u+1:l;return c};!function(e,r){if(!e.setImmediate){var t,n=1,o={},a=!1,i=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){t=function(e){process.nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var r=!0,t=e.onmessage;return e.onmessage=function(){r=!1},e.postMessage("","*"),e.onmessage=t,r}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},t=function(r){e.port2.postMessage(r)}}():i&&"onreadystatechange"in i.createElement("script")?function installReadyStateChangeImplementation(){var e=i.documentElement;t=function(r){var t=i.createElement("script");t.onreadystatechange=function(){runIfPresent(r),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t)}}():function installSetTimeoutImplementation(){t=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var r="setImmediate$"+Math.random()+"$",onGlobalMessage=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&runIfPresent(+t.data.slice(r.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),t=function(t){e.postMessage(r+t,"*")}}(),s.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var r=new Array(arguments.length-1),a=0;a<r.length;a++)r[a]=arguments[a+1];var i={callback:e,args:r};return o[n]=i,t(n),n++},s.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var r=o[e];if(r){a=!0;try{!function run(e){var r=e.callback,t=e.args;switch(t.length){case 0:r();break;case 1:r(t[0]);break;case 2:r(t[0],t[1]);break;case 3:r(t[0],t[1],t[2]);break;default:r.apply(void 0,t)}}(r)}finally{clearImmediate(e),a=!1}}}}}("undefined"==typeof self?e:self);
/*!
	 * XRegExp 3.1.1-next
	 * <xregexp.com>
	 * Steven Levithan (c) 2007-2016 MIT License
	 */
var lo={astral:!1,natives:!1},po={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},fo={},ho={},go={},vo=[],yo="default",mo="class",xo={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},bo=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,_o=void 0===po.exec.call(/()??/,"")[1],wo=void 0!==/x/.flags,$o={}.toString;function hasNativeFlag(e){var r=!0;try{new RegExp("",e)}catch(e){r=!1}return r&&"y"===e?new RegExp("aa|.","y").test("b"):r}var Eo=hasNativeFlag("u"),Co=hasNativeFlag("y"),jo={g:!0,i:!0,m:!0,u:Eo,y:Co};function augment(e,r,t,n,o){var a;if(e.xregexp={captureNames:r},o)return e;if(e.__proto__)e.__proto__=XRegExp$1.prototype;else for(a in XRegExp$1.prototype)e[a]=XRegExp$1.prototype[a];return e.xregexp.source=t,e.xregexp.flags=n?n.split("").sort().join(""):n,e}function clipDuplicates(e){return po.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function copyRegex(e,r){if(!XRegExp$1.isRegExp(e))throw new TypeError("Type RegExp expected");var t=e.xregexp||{},n=function getNativeFlags(e){return wo?e.flags:po.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}(e),o="",a="",i=null,s=null;return(r=r||{}).removeG&&(a+="g"),r.removeY&&(a+="y"),a&&(n=po.replace.call(n,new RegExp("["+a+"]+","g"),"")),r.addG&&(o+="g"),r.addY&&(o+="y"),o&&(n=clipDuplicates(n+o)),r.isInternalOnly||(void 0!==t.source&&(i=t.source),null!=t.flags&&(s=o?clipDuplicates(t.flags+o):t.flags)),e=augment(new RegExp(r.source||e.source,n),function hasNamedCapture(e){return!(!e.xregexp||!e.xregexp.captureNames)}(e)?t.captureNames.slice(0):null,i,s,r.isInternalOnly)}function dec(e){return parseInt(e,16)}function hex(e){return parseInt(e,10).toString(16)}function indexOf(e,r){var t,n=e.length;for(t=0;t<n;++t)if(e[t]===r)return t;return-1}function isQuantifierNext(e,r,t){return po.test.call(t.indexOf("x")>-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(r))}function pad4(e){for(;e.length<4;)e="0"+e;return e}function registerFlag(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");jo[e]=!0}function runTokens(e,r,t,n,o){for(var a,i,s=vo.length,c=e.charAt(t),u=null;s--;)if(!((i=vo[s]).leadChar&&i.leadChar!==c||i.scope!==n&&"all"!==i.scope||i.flag&&-1===r.indexOf(i.flag))&&(a=XRegExp$1.exec(e,i.regex,t,"sticky"))){u={matchLength:a[0].length,output:i.handler.call(o,a,n,r),reparse:i.reparse};break}return u}function XRegExp$1(e,r){if(XRegExp$1.isRegExp(e)){if(void 0!==r)throw new TypeError("Cannot supply flags when copying a RegExp");return copyRegex(e)}if(e=void 0===e?"":String(e),r=void 0===r?"":String(r),XRegExp$1.isInstalled("astral")&&-1===r.indexOf("A")&&(r+="A"),go[e]||(go[e]={}),!go[e][r]){for(var t,n={hasNamedCapture:!1,captureNames:[]},o=yo,a="",i=0,s=function prepareFlags(e,r){var t;if(clipDuplicates(r)!==r)throw new SyntaxError("Invalid duplicate regex flag "+r);for(e=po.replace.call(e,/^\(\?([\w$]+)\)/,(function(e,t){if(po.test.call(/[gy]/,t))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return r=clipDuplicates(r+t),""})),t=0;t<r.length;++t)if(!jo[r.charAt(t)])throw new SyntaxError("Unknown regex flag "+r.charAt(t));return{pattern:e,flags:r}}(e,r),c=s.pattern,u=s.flags;i<c.length;){do{(t=runTokens(c,u,i,o,n))&&t.reparse&&(c=c.slice(0,i)+t.output+c.slice(i+t.matchLength))}while(t&&t.reparse);if(t)a+=t.output,i+=t.matchLength||1;else{var l=XRegExp$1.exec(c,xo[o],i,"sticky")[0];a+=l,i+=l.length,"["===l&&o===yo?o=mo:"]"===l&&o===mo&&(o=yo)}}go[e][r]={pattern:po.replace.call(a,/(?:\(\?:\))+/g,"(?:)"),flags:po.replace.call(u,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var p=go[e][r];return augment(new RegExp(p.pattern,p.flags),p.captures,e,r)}XRegExp$1.prototype=new RegExp,XRegExp$1.version="3.1.1-next",XRegExp$1._clipDuplicates=clipDuplicates,XRegExp$1._hasNativeFlag=hasNativeFlag,XRegExp$1._dec=dec,XRegExp$1._hex=hex,XRegExp$1._pad4=pad4,XRegExp$1.addToken=function(e,r,t){var n,o=(t=t||{}).optionalFlags;if(t.flag&&registerFlag(t.flag),o)for(o=po.split.call(o,""),n=0;n<o.length;++n)registerFlag(o[n]);vo.push({regex:copyRegex(e,{addG:!0,addY:Co,isInternalOnly:!0}),handler:r,scope:t.scope||yo,flag:t.flag,reparse:t.reparse,leadChar:t.leadChar}),XRegExp$1.cache.flush("patterns")},XRegExp$1.cache=function(e,r){return ho[e]||(ho[e]={}),ho[e][r]||(ho[e][r]=XRegExp$1(e,r))},XRegExp$1.cache.flush=function(e){"patterns"===e?go={}:ho={}},XRegExp$1.exec=function(e,r,t,n){var o,a,i,s="g",c=!1;return(o=Co&&!!(n||r.sticky&&!1!==n))?s+="y":n&&(c=!0,s+="FakeY"),r.xregexp=r.xregexp||{},t=t||0,(i=r.xregexp[s]||(r.xregexp[s]=copyRegex(r,{addG:!0,addY:o,source:c?r.source+"|()":void 0,removeY:!1===n,isInternalOnly:!0}))).lastIndex=t,a=fo.exec.call(i,e),c&&a&&""===a.pop()&&(a=null),r.global&&(r.lastIndex=a?i.lastIndex:0),a},XRegExp$1.isInstalled=function(e){return!!lo[e]},XRegExp$1.isRegExp=function(e){return"[object RegExp]"===$o.call(e)},XRegExp$1.replace=function(e,r,t,n){var o,a=XRegExp$1.isRegExp(r),i=r.global&&"one"!==n||"all"===n,s=(i?"g":"")+(r.sticky?"y":"")||"noGY",c=r;return a?(r.xregexp=r.xregexp||{},c=r.xregexp[s]||(r.xregexp[s]=copyRegex(r,{addG:!!i,removeG:"one"===n,isInternalOnly:!0}))):i&&(c=new RegExp(XRegExp$1.escape(String(r)),"g")),o=fo.replace.call(function toObject(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}(e),c,t),a&&r.global&&(r.lastIndex=0),o},fo.exec=function(e){var r,t,n,o=this.lastIndex,a=po.exec.apply(this,arguments);if(a){if(!_o&&a.length>1&&indexOf(a,"")>-1&&(t=copyRegex(this,{removeG:!0,isInternalOnly:!0}),po.replace.call(String(e).slice(a.index),t,(function(){var e,r=arguments.length;for(e=1;e<r-2;++e)void 0===arguments[e]&&(a[e]=void 0)}))),this.xregexp&&this.xregexp.captureNames)for(n=1;n<a.length;++n)(r=this.xregexp.captureNames[n-1])&&(a[r]=a[n]);this.global&&!a[0].length&&this.lastIndex>a.index&&(this.lastIndex=a.index)}return this.global||(this.lastIndex=o),a},fo.replace=function(e,r){var t,n,o,a=XRegExp$1.isRegExp(e);return a?(e.xregexp&&(n=e.xregexp.captureNames),t=e.lastIndex):e+="",o=function isType(e,r){return $o.call(e)==="[object "+r+"]"}(r,"Function")?po.replace.call(String(this),e,(function(){var t,o=arguments;if(n)for(o[0]=new String(o[0]),t=0;t<n.length;++t)n[t]&&(o[0][n[t]]=o[t+1]);return a&&e.global&&(e.lastIndex=o[o.length-2]+o[0].length),r.apply(void 0,o)})):po.replace.call(null==this?this:String(this),e,(function(){var e=arguments;return po.replace.call(String(r),bo,(function(r,t,o){var a;if(t){if((a=+t)<=e.length-3)return e[a]||"";if((a=n?indexOf(n,t):-1)<0)throw new SyntaxError("Backreference to undefined group "+r);return e[a+1]||""}if("$"===o)return"$";if("&"===o||0==+o)return e[0];if("`"===o)return e[e.length-1].slice(0,e[e.length-2]);if("'"===o)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(o=+o,!isNaN(o)){if(o>e.length-3)throw new SyntaxError("Backreference to undefined group "+r);return e[o]||""}throw new SyntaxError("Invalid token "+r)}))})),a&&(e.global?e.lastIndex=0:e.lastIndex=t),o},fo.split=function(e,r){if(!XRegExp$1.isRegExp(e))return po.split.apply(this,arguments);var t,n=String(this),o=[],a=e.lastIndex,i=0;return r=(void 0===r?-1:r)>>>0,XRegExp$1.forEach(n,e,(function(e){e.index+e[0].length>i&&(o.push(n.slice(i,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(o,e.slice(1)),t=e[0].length,i=e.index+t)})),i===n.length?po.test.call(e,"")&&!t||o.push(""):o.push(n.slice(i)),e.lastIndex=a,o.length>r?o.slice(0,r):o},XRegExp$1.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,r){if("B"===e[1]&&r===yo)return e[0];throw new SyntaxError("Invalid escape "+e[0])}),{scope:"all",leadChar:"\\"}),XRegExp$1.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,r,t){var n=dec(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(n<=65535)return"\\u"+pad4(hex(n));if(Eo&&t.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),XRegExp$1.addToken(/\[(\^?)\]/,(function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),XRegExp$1.addToken(/\(\?#[^)]*\)/,(function(e,r,t){return isQuantifierNext(e.input,e.index+e[0].length,t)?"":"(?:)"}),{leadChar:"("}),XRegExp$1.addToken(/\s+|#[^\n]*\n?/,(function(e,r,t){return isQuantifierNext(e.input,e.index+e[0].length,t)?"":"(?:)"}),{flag:"x"}),XRegExp$1.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),XRegExp$1.addToken(/\\k<([\w$]+)>/,(function(e){var r=isNaN(e[1])?indexOf(this.captureNames,e[1])+1:+e[1],t=e.index+e[0].length;if(!r||r>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+r+(t===e.input.length||isNaN(e.input.charAt(t))?"":"(?:)")}),{leadChar:"\\"}),XRegExp$1.addToken(/\\(\d+)/,(function(e,r){if(!(r===yo&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]}),{scope:"all",leadChar:"\\"}),XRegExp$1.addToken(/\(\?P?<([\w$]+)>/,(function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(indexOf(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),XRegExp$1.addToken(/\((?!\?)/,(function(e,r,t){return t.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var ko=XRegExp$1;
/*!
	 * XRegExp Unicode Base 3.1.1-next
	 * <xregexp.com>
	 * Steven Levithan (c) 2008-2016 MIT License
	 */!function(e){var r={},t=e._dec,n=e._hex,o=e._pad4;function normalize(e){return e.replace(/[- _]+/g,"").toLowerCase()}function charCode(e){var r=/^\\[xu](.+)/.exec(e);return r?t(r[1]):e.charCodeAt("\\"===e.charAt(0)?1:0)}function cacheInvertedBmp(t){return r[t]["b!"]||(r[t]["b!"]=function invertBmp(r){var t="",a=-1;return e.forEach(r,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(e){var r=charCode(e[1]);r>a+1&&(t+="\\u"+o(n(a+1)),r>a+2&&(t+="-\\u"+o(n(r-1)))),a=charCode(e[2]||e[1])})),a<65535&&(t+="\\u"+o(n(a+1)),a<65534&&(t+="-\\uFFFF")),t}(r[t].bmp))}e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(e,t,n){var o="P"===e[1]||!!e[2],a=normalize(e[4]||e[3]),i=r[a];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!r.hasOwnProperty(a))throw new SyntaxError("Unknown Unicode token "+e[0]);if(i.inverseOf){if(a=normalize(i.inverseOf),!r.hasOwnProperty(a))throw new ReferenceError("Unicode token missing data "+e[0]+" -> "+i.inverseOf);i=r[a],o=!o}if(!i.bmp)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);return"class"===t?o?cacheInvertedBmp(a):i.bmp:(o?"[^":"[")+i.bmp+"]"}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(t){for(var n,o=0;o<t.length;++o){if(!(n=t[o]).name)throw new Error("Unicode token requires name");if(!(n.inverseOf||n.bmp||n.astral))throw new Error("Unicode token has no character data "+n.name);r[normalize(n.name)]=n,n.alias&&(r[normalize(n.alias)]=n)}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var t=normalize(e);return r[t]}}(ko),function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData([{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"}])}(ko);var So=ko,Ao={exports:{}};return function(e){e.exports=function(r,t,n,o){return(e={}).dedupe=function dedupe(e,a){var i,s=r(a);if(!t(e)&&"object"!=typeof e)throw new Error("contains_dupes must be an array or object");if(0===Object.keys(e).length)return void 0!==typeof console&&console.warn("contains_dupes is empty"),[];s.limit&&(void 0!==typeof console&&console.warn("options.limit will be ignored in dedupe"),s.limit=0),s.cutoff&&"number"==typeof s.cutoff||(void 0!==typeof console&&console.warn("Using default cutoff of 70"),s.cutoff=70),s.scorer||(s.scorer=n,void 0!==typeof console&&console.log("Using default scorer 'ratio' for dedupe")),i=s.processor&&"function"==typeof s.processor?s.processor:function(e){return e};var c={};for(var u in e){var l=i(e[u]);if("string"!=typeof l&&l instanceof String==!1)throw new Error("Each processed item in dedupe must be a string.");var p=o(l,e,s);s.returnObjects?(1===p.length||(p=p.sort((function(e,r){var t=i(e.choice),n=i(r.choice),o=t.length,a=n.length;return o===a?t<n?-1:1:a-o}))),s.keepmap?c[i(p[0].choice)]={item:p[0].choice,key:p[0].key,matches:p}:c[i(p[0].choice)]={item:p[0].choice,key:p[0].key}):(1===p.length||(p=p.sort((function(e,r){var t=i(e[0]),n=i(r[0]),o=t.length,a=n.length;return o===a?t<n?-1:1:a-o}))),s.keepmap?c[i(p[0][0])]=[p[0][0],p[0][2],p]:c[i(p[0][0])]=[p[0][0],p[0][2]])}var f=[];for(var d in c)f.push(c[d]);return f},e}}(Ao),function(){var e=n,t=Or,o=at,a=oo,i=io,s=co,c=uo,u=function(e,r,t){var n={},o=So,a=co,i=uo;function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function validate(e){return("string"==typeof e||e instanceof String)&&e.length>0}n.validate=validate,n.process_and_sort=function process_and_sort(e){return validate(e)?e.match(/\S+/g).sort().join(" ").trim():""},n.tokenize=function unique_tokens(n,o){if(o&&o.wildcards&&r&&t){var s=t(a,o,i);return r(n.match(/\S+/g),(function(e,r){return 0===s(e,r)}))}return e(n.match(/\S+/g))};var s=o("[^\\pN|\\pL]","g");return n.full_process=function full_process(e,r){if(!(e instanceof String)&&"string"!=typeof e)return"";var t;if(r&&"object"==typeof r&&r.wildcards&&"string"==typeof r.wildcards&&r.wildcards.length>0){var n=r.wildcards.toLowerCase();if(e=e.toLowerCase(),r.force_ascii){var a="[^\0 -|"+escapeRegExp(n)+"]";e=e.replace(new RegExp(a,"g"),"");var i="["+escapeRegExp(n)+"]",c=n[0];e=e.replace(new RegExp(i,"g"),c);var u="[^A-Za-z0-9"+escapeRegExp(n)+"]";t=(e=(e=e.replace(new RegExp(u,"g")," ")).replace(/_/g," ")).trim()}else{var l="[^\\pN|\\pL|"+escapeRegExp(n)+"]",p=o(l,"g");e=o.replace(e,p," ","all"),i="["+escapeRegExp(n)+"]",c=n[0],t=(e=e.replace(new RegExp(i,"g"),c)).trim()}}else r&&(r.force_ascii||!0===r)&&(t=(e=e.replace(/[^\x00-\x7F]/g,"")).replace(/\W|_/g," ").toLowerCase().trim()),t=o.replace(e,s," ","all").toLowerCase().trim();return r&&r.collapseWhitespace&&(t=t.replace(/\s+/g," ")),t},n.clone_and_set_option_defaults=function(e){if(e&&e.isAClone)return e;var r={isAClone:!0};if(e){var t,n=Object.keys(e);for(t=0;t<n.length;t++)r[n[t]]=e[n[t]]}return!1!==r.full_process&&(r.full_process=!0),!0!==r.force_ascii&&(r.force_ascii=!1),!1!==r.normalize&&(r.normalize=!0),!0===r.astral&&(r.full_process=!1),!1!==r.collapseWhitespace&&(r.collapseWhitespace=!0),r},n.isCustomFunc=function(e){return"function"!=typeof e||"token_set_ratio"!==e.name&&"partial_token_set_ratio"!==e.name&&"token_sort_ratio"!==e.name&&"partial_token_sort_ratio"!==e.name&&"QRatio"!==e.name&&"WRatio"!==e.name&&"distance"!==e.name&&"partial_ratio"!==e.name},n}(mt),l=u.validate,p=u.process_and_sort,f=u.tokenize,d=u.full_process,h=u.clone_and_set_option_defaults,g=u.isCustomFunc;void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var v=Ao.exports(h,Array.isArray,QRatio,extract).dedupe;function QRatio(e,r,t){var n=h(t);return e=n.full_process?d(e,n):e,r=n.full_process?d(r,n):r,l(e)&&l(r)?_ratio(e,r,n):0}function extract(r,t,n){var o,a=h(n),i=!1;if(t&&t.length&&Array.isArray(t))o=t.length,i=!0;else{if(!(t instanceof Object))throw new Error("Invalid choices");o=Object.keys(t).length}if(!t||0===o)return void 0!==typeof console&&console.warn("No choices"),[];if(a.processor&&"function"!=typeof a.processor)throw new Error("Invalid Processor");if(a.processor||(a.processor=function(e){return e}),a.scorer&&"function"!=typeof a.scorer)throw new Error("Invalid Scorer");a.scorer||(a.scorer=QRatio);var s=g(a.scorer);a.cutoff&&"number"==typeof a.cutoff||(a.cutoff=-1);var pre_processor=function(e,r){return e};a.full_process&&(pre_processor=d,s||(a.processed=!0));var c=!1;s||(r=pre_processor(r,a),a.full_process=!1,a.astral&&a.normalize&&(a.normalize=!1,String.prototype.normalize?(c=!0,r=r.normalize()):void 0!==typeof console&&console.warn("Normalization not supported in your environment")),0===r.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var u,l,v,y,m,x=[],b=!1,_=!1,w=!1;if("token_sort_ratio"===a.scorer.name||"partial_token_sort_ratio"===a.scorer.name){var $=p(r);_=!0}else if("token_set_ratio"===a.scorer.name||"partial_token_set_ratio"===a.scorer.name){var E=f(r);w=!0}for(var C in a.returnObjects?(y=function(e,r){return e.score-r.score},m=function(e,r){return r.score-e.score}):(y=function(e,r){return e[1]-r[1]},m=function(e,r){return r[1]-e[1]}),t)(i||t.hasOwnProperty(C))&&(a.tokens=void 0,a.proc_sorted=!1,_?(a.proc_sorted=!0,t[C]&&t[C].proc_sorted?l=t[C].proc_sorted:(l=pre_processor(a.processor(t[C]),a),l=p(c?l.normalize():l)),v=a.scorer($,l,a)):w?(l="x",t[C]&&t[C].tokens?(a.tokens=[E,t[C].tokens],a.trySimple&&(l=pre_processor(a.processor(t[C]),a))):(l=pre_processor(a.processor(t[C]),a),a.tokens=[E,f(c?l.normalize():l)]),v=a.scorer(r,l,a)):s?(l=a.processor(t[C]),v=a.scorer(r,l,a)):("string"==typeof(l=pre_processor(a.processor(t[C]),a))&&0!==l.length||(b=!0),c&&"string"==typeof l&&(l=l.normalize()),v=a.scorer(r,l,a)),u=i?parseInt(C):C,v>a.cutoff&&(a.returnObjects?x.push({choice:t[C],score:v,key:u}):x.push([t[C],v,u])));return b&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),a.limit&&"number"==typeof a.limit&&a.limit>0&&a.limit<o&&!a.unsorted?x=e.nlargest(x,a.limit,y):a.unsorted||(x=x.sort(m)),x}function extractAsync(r,t,n,o){var a,i,s=h(n);"object"==typeof n.abortController&&(a=n.abortController),"object"==typeof n.cancelToken&&(i=n.cancelToken);var c=256;"number"==typeof s.asyncLoopOffset&&(c=s.asyncLoopOffset<1?1:s.asyncLoopOffset);var u,l=!1;if(t&&t.length&&Array.isArray(t))u=t.length,l=!0;else{if(!(t instanceof Object))return void o(new Error("Invalid choices"));u=Object.keys(t).length}if(!t||0===u)return void 0!==typeof console&&console.warn("No choices"),void o(null,[]);if(s.processor&&"function"!=typeof s.processor)o(new Error("Invalid Processor"));else if(s.processor||(s.processor=function(e){return e}),s.scorer&&"function"!=typeof s.scorer)o(new Error("Invalid Scorer"));else{s.scorer||(s.scorer=QRatio);var v=g(s.scorer);s.cutoff&&"number"==typeof s.cutoff||(s.cutoff=-1);var pre_processor=function(e,r){return e};s.full_process&&(pre_processor=d,v||(s.processed=!0));var y=!1;v||(r=pre_processor(r,s),s.full_process=!1,s.astral&&s.normalize&&(s.normalize=!1,String.prototype.normalize?(y=!0,r=r.normalize()):void 0!==typeof console&&console.warn("Normalization not supported in your environment")),0===r.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var m,x,b,_,w,$=[],E=!1,C=!1,j=!1;if("token_sort_ratio"===s.scorer.name||"partial_token_sort_ratio"===s.scorer.name){var k=p(r);C=!0}else if("token_set_ratio"===s.scorer.name||"partial_token_set_ratio"===s.scorer.name){var S=f(r);j=!0}s.returnObjects?(_=function(e,r){return e.score-r.score},w=function(e,r){return r.score-e.score}):(_=function(e,r){return e[1]-r[1]},w=function(e,r){return r[1]-e[1]});var A=Object.keys(t);l?searchLoop(0):searchLoop(A[0],0)}function searchLoop(n,d){(l||t.hasOwnProperty(n))&&(s.tokens=void 0,s.proc_sorted=!1,C?(s.proc_sorted=!0,t[n].proc_sorted?x=t[n].proc_sorted:(x=pre_processor(s.processor(t[n]),s),x=p(y?x.normalize():x)),b=s.scorer(k,x,s)):j?(x="x",t[n].tokens?(s.tokens=[S,t[n].tokens],s.trySimple&&(x=pre_processor(s.processor(t[n]),s))):(x=pre_processor(s.processor(t[n]),s),s.tokens=[S,f(y?x.normalize():x)]),b=s.scorer(r,x,s)):v?(x=s.processor(t[n]),b=s.scorer(r,x,s)):("string"==typeof(x=pre_processor(s.processor(t[n]),s))&&0!==x.length||(E=!0),y&&"string"==typeof x&&(x=x.normalize()),b=s.scorer(r,x,s)),m=l?parseInt(n):n,b>s.cutoff&&(s.returnObjects?$.push({choice:t[n],score:b,key:m}):$.push([t[n],b,m]))),a&&!0===a.signal.aborted?o(new Error("aborted")):i&&!0===i.canceled?o(new Error("canceled")):l&&n<t.length-1?n%c==0?setImmediate((function(){searchLoop(n+1)})):searchLoop(n+1):d<A.length-1?d%c==0?setImmediate((function(){searchLoop(A[d+1],d+1)})):searchLoop(A[d+1],d+1):(E&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),s.limit&&"number"==typeof s.limit&&s.limit>0&&s.limit<u&&!s.unsorted?$=e.nlargest($,s.limit,_):s.unsorted||($=$.sort(w)),o(null,$))}}var y=!1;function _ratio(e,r,t){return l(e)&&l(r)?(void 0===t.subcost&&(t.subcost=2),t.astral?(t.normalize&&(String.prototype.normalize?(e=e.normalize(),r=r.normalize()):y||(void 0!==typeof console&&console.warn("Normalization not supported in your environment"),y=!0)),n=i(e,r,t,a),o=a(e).length+a(r).length):t.wildcards?(n=s(e,r,t,c),o=e.length+r.length):(n=c(e,r,t),o=e.length+r.length),Math.round((o-n)/o*100)):0;var n,o}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=t.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,i,s=[];for(a in o)e.call(o,a)&&s.push(a);if(r)for(i=0;i<n;i++)e.call(o,t[i])&&s.push(t[i]);return s}}());var m=void 0;"undefined"!=typeof Promise&&(m=function(e,r,t){return new Promise((function(n,o){extractAsync(e,r,t,(function(e,r){e?o(e):n(r)}))}))});var x={distance:function distance(e,r,t){var n=h(t);return e=n.full_process?d(e,n):e,r=n.full_process?d(r,n):r,void 0===n.subcost&&(n.subcost=1),n.astral?i(e,r,n,a):s(e,r,n,c)},ratio:QRatio,token_set_ratio:function token_set_ratio(e,r,n){var a=h(n);return e=a.full_process?d(e,a):e,r=a.full_process?d(r,a):r,l(e)&&l(r)?function _token_set(e,r,n){if(n.tokens)a=n.tokens[0],i=n.tokens[1];else var a=f(e),i=f(r);var s=t(a,i),c=o(a,i),u=o(i,a),l=s.sort().join(" "),p=c.sort().join(" "),d=u.sort().join(" "),h=l+" "+p,g=l+" "+d;l=l.trim(),h=h.trim(),g=g.trim();var v=_ratio,y=[v(l,h,n),v(l,g,n),v(h,g,n)];n.trySimple&&y.push(v(e,r,n));return Math.max.apply(null,y)}(e,r,a):0},token_sort_ratio:function token_sort_ratio(e,r,t){var n=h(t);return e=n.full_process?d(e,n):e,r=n.full_process?d(r,n):r,l(e)&&l(r)?(n.proc_sorted||(e=p(e),r=p(r)),_ratio(e,r,n)):0},full_process:d,extract:extract,extractAsync:extractAsync,extractAsPromised:m,process_and_sort:p,unique_tokens:f,dedupe:v};r.exports=x}(),r.exports}));

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fuzzball=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={exports:{}};var r=function arrayMap$2(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},n=Array.isArray,o="object"==typeof e&&e&&e.Object===Object&&e,a=o,i="object"==typeof self&&self&&self.Object===Object&&self,s=a||i||Function("return this")(),c=s.Symbol,u=c,f=Object.prototype,l=f.hasOwnProperty,p=f.toString,h=u?u.toStringTag:void 0;var v=function getRawTag$1(e){var t=l.call(e,h),r=e[h];try{e[h]=void 0;var n=!0}catch(e){}var o=p.call(e);return n&&(t?e[h]=r:delete e[h]),o},y=Object.prototype.toString;var d=v,_=function objectToString$1(e){return y.call(e)},b=c?c.toStringTag:void 0;var g=function baseGetTag$5(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":b&&b in Object(e)?d(e):_(e)};var m=function isObjectLike$5(e){return null!=e&&"object"==typeof e},$=g,j=m;var O=function isSymbol$4(e){return"symbol"==typeof e||j(e)&&"[object Symbol]"==$(e)},k=n,w=O,A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;var C=function isKey$3(e,t){if(k(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!w(e))||(S.test(e)||!A.test(e)||null!=t&&e in Object(t))};var I=function isObject$3(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},P=g,x=I;var z,E=function isFunction$2(e){if(!x(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},M=s["__core-js_shared__"],T=(z=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var L=function isMasked$1(e){return!!T&&T in e},q=Function.prototype.toString;var F=function toSource$2(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""},B=E,W=L,D=I,H=F,R=/^\[object .+?Constructor\]$/,G=Function.prototype,N=Object.prototype,U=G.toString,K=N.hasOwnProperty,Q=RegExp("^"+U.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function baseIsNative$1(e){return!(!D(e)||W(e))&&(B(e)?Q:R).test(H(e))},J=function getValue$1(e,t){return null==e?void 0:e[t]};var X=function getNative$6(e,t){var r=J(e,t);return V(r)?r:void 0},Y=X(Object,"create"),Z=Y;var ee=function hashClear$1(){this.__data__=Z?Z(null):{},this.size=0};var te=function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re=Y,ne=Object.prototype.hasOwnProperty;var oe=function hashGet$1(e){var t=this.__data__;if(re){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ne.call(t,e)?t[e]:void 0},ae=Y,ie=Object.prototype.hasOwnProperty;var se=Y;var ce=ee,ue=te,fe=oe,le=function hashHas$1(e){var t=this.__data__;return ae?void 0!==t[e]:ie.call(t,e)},pe=function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=se&&void 0===t?"__lodash_hash_undefined__":t,this};function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=ce,Hash$1.prototype.delete=ue,Hash$1.prototype.get=fe,Hash$1.prototype.has=le,Hash$1.prototype.set=pe;var he=Hash$1;var ve=function listCacheClear$1(){this.__data__=[],this.size=0};var ye=function eq$2(e,t){return e===t||e!=e&&t!=t},de=ye;var _e=function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(de(e[r][0],t))return r;return-1},be=_e,ge=Array.prototype.splice;var me=_e;var $e=_e;var je=_e;var Oe=ve,ke=function listCacheDelete$1(e){var t=this.__data__,r=be(t,e);return!(r<0)&&(r==t.length-1?t.pop():ge.call(t,r,1),--this.size,!0)},we=function listCacheGet$1(e){var t=this.__data__,r=me(t,e);return r<0?void 0:t[r][1]},Ae=function listCacheHas$1(e){return $e(this.__data__,e)>-1},Se=function listCacheSet$1(e,t){var r=this.__data__,n=je(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ListCache$4(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$4.prototype.clear=Oe,ListCache$4.prototype.delete=ke,ListCache$4.prototype.get=we,ListCache$4.prototype.has=Ae,ListCache$4.prototype.set=Se;var Ce=ListCache$4,Ie=X(s,"Map"),Pe=he,xe=Ce,ze=Ie;var Ee=function isKeyable$1(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Me=function getMapData$4(e,t){var r=e.__data__;return Ee(t)?r["string"==typeof t?"string":"hash"]:r.map},Te=Me;var Le=Me;var qe=Me;var Fe=Me;var Be=function mapCacheClear$1(){this.size=0,this.__data__={hash:new Pe,map:new(ze||xe),string:new Pe}},We=function mapCacheDelete$1(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},De=function mapCacheGet$1(e){return Le(this,e).get(e)},He=function mapCacheHas$1(e){return qe(this,e).has(e)},Re=function mapCacheSet$1(e,t){var r=Fe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function MapCache$3(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$3.prototype.clear=Be,MapCache$3.prototype.delete=We,MapCache$3.prototype.get=De,MapCache$3.prototype.has=He,MapCache$3.prototype.set=Re;var Ge=MapCache$3,Ne=Ge;function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var memoized=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=memoized.cache;if(o.has(n))return o.get(n);var a=e.apply(this,r);return memoized.cache=o.set(n,a)||o,a};return memoized.cache=new(memoize$1.Cache||Ne),memoized}memoize$1.Cache=Ne;var Ue=memoize$1;var Ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qe=/\\(\\)?/g,Ve=function memoizeCapped$1(e){var t=Ue(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ke,(function(e,r,n,o){t.push(n?o.replace(Qe,"$1"):r||e)})),t})),Je=r,Xe=n,Ye=O,Ze=c?c.prototype:void 0,et=Ze?Ze.toString:void 0;var tt=function baseToString$1(e){if("string"==typeof e)return e;if(Xe(e))return Je(e,baseToString$1)+"";if(Ye(e))return et?et.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},rt=tt;var nt=n,ot=C,at=Ve,it=function toString$1(e){return null==e?"":rt(e)};var st=function castPath$2(e,t){return nt(e)?e:ot(e,t)?[e]:at(it(e))},ct=O;var ut=function toKey$4(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},ft=st,lt=ut;var pt=function baseGet$3(e,t){for(var r=0,n=(t=ft(t,e)).length;null!=e&&r<n;)e=e[lt(t[r++])];return r&&r==n?e:void 0},ht=Ce;var vt=Ce,yt=Ie,dt=Ge;var _t=Ce,bt=function stackClear$1(){this.__data__=new ht,this.size=0},gt=function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},mt=function stackGet$1(e){return this.__data__.get(e)},$t=function stackHas$1(e){return this.__data__.has(e)},jt=function stackSet$1(e,t){var r=this.__data__;if(r instanceof vt){var n=r.__data__;if(!yt||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new dt(n)}return r.set(e,t),this.size=r.size,this};function Stack$2(e){var t=this.__data__=new _t(e);this.size=t.size}Stack$2.prototype.clear=bt,Stack$2.prototype.delete=gt,Stack$2.prototype.get=mt,Stack$2.prototype.has=$t,Stack$2.prototype.set=jt;var Ot=Stack$2;var kt=Ge,wt=function setCacheAdd$1(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},At=function setCacheHas$1(e){return this.__data__.has(e)};function SetCache$1(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new kt;++t<r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=wt,SetCache$1.prototype.has=At;var St=SetCache$1,Ct=function arraySome$1(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},It=function cacheHas$1(e,t){return e.has(t)};var Pt=function equalArrays$2(e,t,r,n,o,a){var i=1&r,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var l=-1,p=!0,h=2&r?new St:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var v=e[l],y=t[l];if(n)var d=i?n(y,v,l,t,e,a):n(v,y,l,e,t,a);if(void 0!==d){if(d)continue;p=!1;break}if(h){if(!Ct(t,(function(e,t){if(!It(h,t)&&(v===e||o(v,e,r,n,a)))return h.push(t)}))){p=!1;break}}else if(v!==y&&!o(v,y,r,n,a)){p=!1;break}}return a.delete(e),a.delete(t),p};var xt=s.Uint8Array,zt=ye,Et=Pt,Mt=function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Tt=function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Lt=c?c.prototype:void 0,qt=Lt?Lt.valueOf:void 0;var Ft=function equalByTag$1(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new xt(e),new xt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return zt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Mt;case"[object Set]":var c=1&n;if(s||(s=Tt),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var f=Et(s(e),s(t),n,o,a,i);return i.delete(e),f;case"[object Symbol]":if(qt)return qt.call(e)==qt.call(t)}return!1};var Bt=function arrayPush$1(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Wt=n;var Dt=function baseGetAllKeys$1(e,t,r){var n=t(e);return Wt(e)?n:Bt(n,r(e))};var Ht=function arrayFilter$1(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a},Rt=function stubArray$1(){return[]},Gt=Object.prototype.propertyIsEnumerable,Nt=Object.getOwnPropertySymbols,Ut=Nt?function(e){return null==e?[]:(e=Object(e),Ht(Nt(e),(function(t){return Gt.call(e,t)})))}:Rt;var Kt=function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Qt=g,Vt=m;var Jt=function baseIsArguments$1(e){return Vt(e)&&"[object Arguments]"==Qt(e)},Xt=m,Yt=Object.prototype,Zt=Yt.hasOwnProperty,er=Yt.propertyIsEnumerable,tr=Jt(function(){return arguments}())?Jt:function(e){return Xt(e)&&Zt.call(e,"callee")&&!er.call(e,"callee")},rr=tr,nr={exports:{}};var or=function stubFalse(){return!1};!function(e,t){var r=s,n=or,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,c=(i?i.isBuffer:void 0)||n;e.exports=c}(nr,nr.exports);var ar=/^(?:0|[1-9]\d*)$/;var ir=function isIndex$2(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ar.test(e))&&e>-1&&e%1==0&&e<t};var sr=function isLength$3(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},cr=g,ur=sr,fr=m,lr={};lr["[object Float32Array]"]=lr["[object Float64Array]"]=lr["[object Int8Array]"]=lr["[object Int16Array]"]=lr["[object Int32Array]"]=lr["[object Uint8Array]"]=lr["[object Uint8ClampedArray]"]=lr["[object Uint16Array]"]=lr["[object Uint32Array]"]=!0,lr["[object Arguments]"]=lr["[object Array]"]=lr["[object ArrayBuffer]"]=lr["[object Boolean]"]=lr["[object DataView]"]=lr["[object Date]"]=lr["[object Error]"]=lr["[object Function]"]=lr["[object Map]"]=lr["[object Number]"]=lr["[object Object]"]=lr["[object RegExp]"]=lr["[object Set]"]=lr["[object String]"]=lr["[object WeakMap]"]=!1;var pr=function baseIsTypedArray$1(e){return fr(e)&&ur(e.length)&&!!lr[cr(e)]};var hr=function baseUnary$2(e){return function(t){return e(t)}},vr={exports:{}};!function(e,t){var r=o,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}(vr,vr.exports);var yr=pr,dr=hr,_r=vr.exports,br=_r&&_r.isTypedArray,gr=br?dr(br):yr,mr=Kt,$r=rr,jr=n,Or=nr.exports,kr=ir,wr=gr,Ar=Object.prototype.hasOwnProperty;var Sr=function arrayLikeKeys$1(e,t){var r=jr(e),n=!r&&$r(e),o=!r&&!n&&Or(e),a=!r&&!n&&!o&&wr(e),i=r||n||o||a,s=i?mr(e.length,String):[],c=s.length;for(var u in e)!t&&!Ar.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||kr(u,c))||s.push(u);return s},Cr=Object.prototype;var Ir=function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Cr)};var Pr=function overArg$1(e,t){return function(r){return e(t(r))}}(Object.keys,Object),xr=Ir,zr=Pr,Er=Object.prototype.hasOwnProperty;var Mr=E,Tr=sr;var Lr=function isArrayLike$3(e){return null!=e&&Tr(e.length)&&!Mr(e)},qr=Sr,Fr=function baseKeys$1(e){if(!xr(e))return zr(e);var t=[];for(var r in Object(e))Er.call(e,r)&&"constructor"!=r&&t.push(r);return t},Br=Lr;var Wr=function keys$3(e){return Br(e)?qr(e):Fr(e)},Dr=Dt,Hr=Ut,Rr=Wr;var Gr=function getAllKeys$1(e){return Dr(e,Rr,Hr)},Nr=Object.prototype.hasOwnProperty;var Ur=function equalObjects$1(e,t,r,n,o,a){var i=1&r,s=Gr(e),c=s.length;if(c!=Gr(t).length&&!i)return!1;for(var u=c;u--;){var f=s[u];if(!(i?f in t:Nr.call(t,f)))return!1}var l=a.get(e),p=a.get(t);if(l&&p)return l==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var v=i;++u<c;){var y=e[f=s[u]],d=t[f];if(n)var _=i?n(d,y,f,t,e,a):n(y,d,f,e,t,a);if(!(void 0===_?y===d||o(y,d,r,n,a):_)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var b=e.constructor,g=t.constructor;b==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(h=!1)}return a.delete(e),a.delete(t),h},Kr=X(s,"DataView"),Qr=Ie,Vr=X(s,"Promise"),Jr=X(s,"Set"),Xr=X(s,"WeakMap"),Yr=g,Zr=F,en="[object Map]",tn="[object Promise]",rn="[object Set]",nn="[object WeakMap]",on="[object DataView]",an=Zr(Kr),sn=Zr(Qr),cn=Zr(Vr),un=Zr(Jr),fn=Zr(Xr),ln=Yr;(Kr&&ln(new Kr(new ArrayBuffer(1)))!=on||Qr&&ln(new Qr)!=en||Vr&&ln(Vr.resolve())!=tn||Jr&&ln(new Jr)!=rn||Xr&&ln(new Xr)!=nn)&&(ln=function(e){var t=Yr(e),r="[object Object]"==t?e.constructor:void 0,n=r?Zr(r):"";if(n)switch(n){case an:return on;case sn:return en;case cn:return tn;case un:return rn;case fn:return nn}return t});var pn=Ot,hn=Pt,vn=Ft,yn=Ur,dn=ln,_n=n,bn=nr.exports,gn=gr,mn="[object Arguments]",$n="[object Array]",jn="[object Object]",On=Object.prototype.hasOwnProperty;var kn=function baseIsEqualDeep$1(e,t,r,n,o,a){var i=_n(e),s=_n(t),c=i?$n:dn(e),u=s?$n:dn(t),f=(c=c==mn?jn:c)==jn,l=(u=u==mn?jn:u)==jn,p=c==u;if(p&&bn(e)){if(!bn(t))return!1;i=!0,f=!1}if(p&&!f)return a||(a=new pn),i||gn(e)?hn(e,t,r,n,o,a):vn(e,t,c,r,n,o,a);if(!(1&r)){var h=f&&On.call(e,"__wrapped__"),v=l&&On.call(t,"__wrapped__");if(h||v){var y=h?e.value():e,d=v?t.value():t;return a||(a=new pn),o(y,d,r,n,a)}}return!!p&&(a||(a=new pn),yn(e,t,r,n,o,a))},wn=m;var An=function baseIsEqual$2(e,t,r,n,o){return e===t||(null==e||null==t||!wn(e)&&!wn(t)?e!=e&&t!=t:kn(e,t,r,n,baseIsEqual$2,o))},Sn=Ot,Cn=An;var In=I;var Pn=function isStrictComparable$2(e){return e==e&&!In(e)},xn=Pn,zn=Wr;var En=function matchesStrictComparable$2(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},Mn=function baseIsMatch$1(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var s=r[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var c=(s=r[o])[0],u=e[c],f=s[1];if(i&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new Sn;if(n)var p=n(u,f,c,e,t,l);if(!(void 0===p?Cn(f,u,3,n,l):p))return!1}}return!0},Tn=function getMatchData$1(e){for(var t=zn(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,xn(o)]}return t},Ln=En;var qn=pt;var Fn=st,Bn=rr,Wn=n,Dn=ir,Hn=sr,Rn=ut;var Gn=function baseHasIn$1(e,t){return null!=e&&t in Object(e)},Nn=function hasPath$1(e,t,r){for(var n=-1,o=(t=Fn(t,e)).length,a=!1;++n<o;){var i=Rn(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&Hn(o)&&Dn(i,o)&&(Wn(e)||Bn(e))};var Un=An,Kn=function get$1(e,t,r){var n=null==e?void 0:qn(e,t);return void 0===n?r:n},Qn=function hasIn$1(e,t){return null!=e&&Nn(e,t,Gn)},Vn=C,Jn=Pn,Xn=En,Yn=ut;var Zn=function identity$2(e){return e};var eo=pt;var to=function baseProperty$1(e){return function(t){return null==t?void 0:t[e]}},ro=function basePropertyDeep$1(e){return function(t){return eo(t,e)}},no=C,oo=ut;var ao=function baseMatches$1(e){var t=Tn(e);return 1==t.length&&t[0][2]?Ln(t[0][0],t[0][1]):function(r){return r===e||Mn(r,e,t)}},io=function baseMatchesProperty$1(e,t){return Vn(e)&&Jn(t)?Xn(Yn(e),t):function(r){var n=Kn(r,e);return void 0===n&&n===t?Qn(r,e):Un(t,n,3)}},so=Zn,co=n,uo=function property$1(e){return no(e)?to(oo(e)):ro(e)};var fo=function baseIteratee$1(e){return"function"==typeof e?e:null==e?so:"object"==typeof e?co(e)?io(e[0],e[1]):ao(e):uo(e)};var lo=function createBaseFor$1(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++o];if(!1===r(a[c],c,a))break}return t}}(),po=Wr;var ho=Lr;var vo=function createBaseEach$1(e,t){return function(r,n){if(null==r)return r;if(!ho(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}((function baseForOwn$1(e,t){return e&&lo(e,t,po)})),yo=Lr;var _o=O;var bo=function compareAscending$1(e,t){if(e!==t){var r=void 0!==e,n=null===e,o=e==e,a=_o(e),i=void 0!==t,s=null===t,c=t==t,u=_o(t);if(!s&&!u&&!a&&e>t||a&&i&&c&&!s&&!u||n&&i&&c||!r&&c||!o)return 1;if(!n&&!a&&!u&&e<t||u&&r&&o&&!n&&!a||s&&r&&o||!i&&o||!c)return-1}return 0};var go=r,mo=pt,$o=fo,jo=function baseMap$1(e,t){var r=-1,n=yo(e)?Array(e.length):[];return vo(e,(function(e,o,a){n[++r]=t(e,o,a)})),n},Oo=function baseSortBy$1(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},ko=hr,wo=function compareMultiple$1(e,t,r){for(var n=-1,o=e.criteria,a=t.criteria,i=o.length,s=r.length;++n<i;){var c=bo(o[n],a[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index},Ao=Zn,So=n;var Co=function baseOrderBy$1(e,t,r){t=t.length?go(t,(function(e){return So(e)?function(t){return mo(t,1===e.length?e[0]:e)}:e})):[Ao];var n=-1;t=go(t,ko($o));var o=jo(e,(function(e,r,o){return{criteria:go(t,(function(t){return t(e)})),index:++n,value:e}}));return Oo(o,(function(e,t){return wo(e,t,r)}))},Io=n;const Po=function orderBy$1(e,t,r,n){return null==e?[]:(Io(t)||(t=null==t?[]:[t]),Io(r=n?void 0:r)||(r=null==r?[]:[r]),Co(e,t,r))};var xo,zo={_intersect:function _intersect(e,t){if(!e||!t||0===e.length||0===t.length)return[];if(e.length<100&&t.length<100)return e.filter((e=>t.includes(e)));const r=new Set(t);return e.filter((e=>r.has(e)))},_intersectWith:function _intersectWith(e,t,r){return e&&t&&0!==e.length&&0!==t.length?e.filter((e=>t.some((t=>r(e,t))))):[]},_difference:function _difference(e,t){if(!e)return[];if(!t||0===t.length)return e.slice();if(e.length<100&&t.length<100)return e.filter((e=>!t.includes(e)));const r=new Set(t);return e.filter((e=>!r.has(e)))},_differenceWith:function _differenceWith(e,t,r){return e?t&&0!==t.length?e.filter((e=>!t.some((t=>r(e,t))))):e.slice():[]},_uniq:function _uniq(e){return e&&0!==e.length?1===e.length?e.slice():[...new Set(e)]:[]},_uniqWith:function _uniqWith(e,t){return e&&0!==e.length?1===e.length?e.slice():e.filter(((e,r,n)=>r===n.findIndex((r=>t(e,r))))):[]},_partialRight:function _partialRight(e){const t=Array.prototype.slice.call(arguments,1);return function(){const r=Array.prototype.slice.call(arguments);return e.apply(this,r.concat(t))}},_forEach:function _forEach(e,t){if(e)if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r],r);else{const r=Object.keys(e);for(let n=0;n<r.length;n++)t(e[r[n]],r[n])}},_keys:function _keys(e){return Object.keys(e)},_isArray:function _isArray(e){return Array.isArray(e)},_orderBy:function _orderBy(e,t,r){return Po(e,t,r)}};try{xo="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){void 0!==typeof console&&console.warn("Collator could not be initialized and wouldn't be used")}var Eo=function leven(e,t,r){var n=[],o=[],a=r&&xo&&r.useCollator,i=1;if(r&&r.subcost&&"number"==typeof r.subcost&&(i=r.subcost),e===t)return 0;var s,c,u,f,l=e.length,p=t.length;if(0===l)return p;if(0===p)return l;for(var h=0,v=0;h<l;)o[h]=e.charCodeAt(h),n[h]=++h;if(a)for(;v<p;)for(s=t.charCodeAt(v),u=v++,c=v,h=0;h<l;h++)f=0===xo.compare(String.fromCharCode(s),String.fromCharCode(o[h]))?u:u+i,u=n[h],c=n[h]=u>c?f>c?c+1:f:f>u?u+1:f;else for(;v<p;)for(s=t.charCodeAt(v),u=v++,c=v,h=0;h<l;h++)f=s===o[h]?u:u+i,u=n[h],c=n[h]=u>c?f>c?c+1:f:f>u?u+1:f;return c};return function(e,t){if(!e.setImmediate){var r,n=1,o={},a=!1,i=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){r=function(e){process.nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():i&&"onreadystatechange"in i.createElement("script")?function installReadyStateChangeImplementation(){var e=i.documentElement;r=function(t){var r=i.createElement("script");r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",onGlobalMessage=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),r=function(r){e.postMessage(t+r,"*")}}(),s.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var i={callback:e,args:t};return o[n]=i,r(n),n++},s.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{!function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{clearImmediate(e),a=!1}}}}}("undefined"==typeof self?e:self),function(){var e=zo._intersect,r=zo._difference,n=Eo,o=function(e){var t={};function validate(e){return("string"==typeof e||e instanceof String)&&e.length>0}return t.validate=validate,t.process_and_sort=function process_and_sort(e){return validate(e)?e.match(/\S+/g).sort().join(" ").trim():""},t.tokenize=function unique_tokens(t,r){return e(t.match(/\S+/g))},t.full_process=function full_process(e,t){return e instanceof String||"string"==typeof e?(t&&(t.force_ascii||!0===t)&&(e=e.replace(/[^\x00-\x7F]/g,"")),r=e.replace(/\W|_/g," ").toLowerCase().trim(),t&&t.collapseWhitespace&&(r=r.replace(/\s+/g," ")),r):"";var r},t.clone_and_set_option_defaults=function(e){if(e&&e.isAClone)return e;var t={isAClone:!0};if(e){var r,n=Object.keys(e);for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}return void 0!==t.full_process&&!1===t.full_process||(t.full_process=!0),void 0!==t.force_ascii&&!0===t.force_ascii||(t.force_ascii=!1),void 0!==t.collapseWhitespace&&!1===t.collapseWhitespace||(t.collapseWhitespace=!0),t},t.isCustomFunc=function(e){return"function"!=typeof e||"token_set_ratio"!==e.name&&"partial_token_set_ratio"!==e.name&&"token_sort_ratio"!==e.name&&"partial_token_sort_ratio"!==e.name&&"QRatio"!==e.name&&"WRatio"!==e.name&&"distance"!==e.name&&"partial_ratio"!==e.name},t}(zo._uniq),a=o.validate,i=o.process_and_sort,s=o.tokenize,c=o.full_process,u=o.clone_and_set_option_defaults,f=o.isCustomFunc;function QRatio(e,t,r){var n=u(r);return e=n.full_process?c(e,n):e,t=n.full_process?c(t,n):t,a(e)&&a(t)?_ratio(e,t,n):0}function extractAsync(e,t,r,n){var o,a,l=u(r);"object"==typeof r.abortController&&(o=r.abortController),"object"==typeof r.cancelToken&&(a=r.cancelToken);var p=256;"number"==typeof l.asyncLoopOffset&&(p=l.asyncLoopOffset<1?1:l.asyncLoopOffset);var h,v=!1;if(t&&t.length&&Array.isArray(t))h=t.length,v=!0;else{if(!(t instanceof Object))return void n(new Error("Invalid choices"));h=Object.keys(t).length}if(!t||0===h)return void 0!==typeof console&&console.warn("No choices"),void n(null,[]);if(l.processor&&"function"!=typeof l.processor)n(new Error("Invalid Processor"));else if(l.processor||(l.processor=function(e){return e}),l.scorer&&"function"!=typeof l.scorer)n(new Error("Invalid Scorer"));else{l.scorer||(l.scorer=QRatio);var y=f(l.scorer);l.cutoff&&"number"==typeof l.cutoff||(l.cutoff=-1);var pre_processor=function(e,t){return e};l.full_process&&(pre_processor=c,y||(l.processed=!0)),y||(e=pre_processor(e,l),l.full_process=!1,0===e.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var d,_,b,g,m=[],$=!1,j=!1,O=!1;if("token_sort_ratio"===l.scorer.name||"partial_token_sort_ratio"===l.scorer.name){var k=i(e);j=!0}else if("token_set_ratio"===l.scorer.name||"partial_token_set_ratio"===l.scorer.name){var w=s(e);O=!0}g=l.returnObjects?function(e,t){return t.score-e.score}:function(e,t){return t[1]-e[1]};var A=Object.keys(t);v?searchLoop(0):searchLoop(A[0],0)}function searchLoop(r,c){(v||t.hasOwnProperty(r))&&(l.tokens=void 0,l.proc_sorted=!1,j?(l.proc_sorted=!0,t[r].proc_sorted?_=t[r].proc_sorted:(_=pre_processor(l.processor(t[r]),l),_=i(_)),b=l.scorer(k,_,l)):O?(_="x",t[r].tokens?(l.tokens=[w,t[r].tokens],l.trySimple&&(_=pre_processor(l.processor(t[r]),l))):(_=pre_processor(l.processor(t[r]),l),l.tokens=[w,s(_)]),b=l.scorer(e,_,l)):y?(_=l.processor(t[r]),b=l.scorer(e,_,l)):("string"==typeof(_=pre_processor(l.processor(t[r]),l))&&0!==_.length||($=!0),b=l.scorer(e,_,l)),d=v?parseInt(r):r,b>l.cutoff&&(l.returnObjects?m.push({choice:t[r],score:b,key:d}):m.push([t[r],b,d]))),o&&!0===o.signal.aborted?n(new Error("aborted")):a&&!0===a.canceled?n(new Error("canceled")):v&&r<t.length-1?r%p==0?setImmediate((function(){searchLoop(r+1)})):searchLoop(r+1):c<A.length-1?c%p==0?setImmediate((function(){searchLoop(A[c+1],c+1)})):searchLoop(A[c+1],c+1):($&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),l.limit&&"number"==typeof l.limit&&l.limit>0&&l.limit<h&&!l.unsorted?m=m.sort(g).slice(0,l.limit):l.unsorted||(m=m.sort(g)),n(null,m))}}function _ratio(e,t,r){return a(e)&&a(t)?(void 0===r.subcost&&(r.subcost=2),o=n(e,t,r),i=e.length+t.length,Math.round((i-o)/i*100)):0;var o,i}void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,i,s=[];for(a in o)e.call(o,a)&&s.push(a);if(t)for(i=0;i<n;i++)e.call(o,r[i])&&s.push(r[i]);return s}}());var l=void 0;"undefined"!=typeof Promise&&(l=function(e,t,r){return new Promise((function(n,o){extractAsync(e,t,r,(function(e,t){e?o(e):n(t)}))}))});var p={distance:function distance(e,t,r){var o=u(r);return e=o.full_process?c(e,o):e,t=o.full_process?c(t,o):t,n(e,t,o)},ratio:QRatio,token_set_ratio:function token_set_ratio(t,n,o){var i=u(o);return t=i.full_process?c(t,i):t,n=i.full_process?c(n,i):n,a(t)&&a(n)?function _token_set(t,n,o){if(o.tokens)a=o.tokens[0],i=o.tokens[1];else var a=s(t),i=s(n);var c=e(a,i),u=r(a,i),f=r(i,a),l=c.sort().join(" "),p=u.sort().join(" "),h=f.sort().join(" "),v=l+" "+p,y=l+" "+h;l=l.trim(),v=v.trim(),y=y.trim();var d=_ratio,_=[d(l,v,o),d(l,y,o),d(v,y,o)];o.trySimple&&_.push(d(t,n,o));return Math.max.apply(null,_)}(t,n,i):0},token_sort_ratio:function token_sort_ratio(e,t,r){var n=u(r);return e=n.full_process?c(e,n):e,t=n.full_process?c(t,n):t,a(e)&&a(t)?(n.proc_sorted||(e=i(e),t=i(t)),_ratio(e,t,n)):0},full_process:c,extract:function extract(e,t,r){var n,o=u(r),a=!1;if(t&&t.length&&Array.isArray(t))n=t.length,a=!0;else{if(!(t instanceof Object))throw new Error("Invalid choices");n=Object.keys(t).length}if(!t||0===n)return void 0!==typeof console&&console.warn("No choices"),[];if(o.processor&&"function"!=typeof o.processor)throw new Error("Invalid Processor");if(o.processor||(o.processor=function(e){return e}),o.scorer&&"function"!=typeof o.scorer)throw new Error("Invalid Scorer");o.scorer||(o.scorer=QRatio);var l=f(o.scorer);o.cutoff&&"number"==typeof o.cutoff||(o.cutoff=-1);var pre_processor=function(e,t){return e};o.full_process&&(pre_processor=c,l||(o.processed=!0)),l||(e=pre_processor(e,o),o.full_process=!1,0===e.length&&void 0!==typeof console&&console.warn("Processed query is empty string"));var p,h,v,y,d=[],_=!1,b=!1,g=!1;if("token_sort_ratio"===o.scorer.name||"partial_token_sort_ratio"===o.scorer.name){var m=i(e);b=!0}else if("token_set_ratio"===o.scorer.name||"partial_token_set_ratio"===o.scorer.name){var $=s(e);g=!0}for(var j in y=o.returnObjects?function(e,t){return t.score-e.score}:function(e,t){return t[1]-e[1]},t)(a||t.hasOwnProperty(j))&&(o.tokens=void 0,o.proc_sorted=!1,b?(o.proc_sorted=!0,t[j]&&t[j].proc_sorted?h=t[j].proc_sorted:(h=pre_processor(o.processor(t[j]),o),h=i(h)),v=o.scorer(m,h,o)):g?(h="x",t[j]&&t[j].tokens?(o.tokens=[$,t[j].tokens],o.trySimple&&(h=pre_processor(o.processor(t[j]),o))):(h=pre_processor(o.processor(t[j]),o),o.tokens=[$,s(h)]),v=o.scorer(e,h,o)):l?(h=o.processor(t[j]),v=o.scorer(e,h,o)):("string"==typeof(h=pre_processor(o.processor(t[j]),o))&&0!==h.length||(_=!0),v=o.scorer(e,h,o)),p=a?parseInt(j):j,v>o.cutoff&&(o.returnObjects?d.push({choice:t[j],score:v,key:p}):d.push([t[j],v,p])));return _&&void 0!==typeof console&&console.log("One or more choices were empty. (post-processing if applied)"),o.limit&&"number"==typeof o.limit&&o.limit>0&&o.limit<n&&!o.unsorted?d=d.sort(y).slice(0,o.limit):o.unsorted||(d=d.sort(y)),d},extractAsync:extractAsync,extractAsPromised:l,process_and_sort:i,unique_tokens:s};t.exports=p}(),t.exports}));
